import{f as Fe}from"./chunk-IR5DHEKS-aVJcUHa1.js";import{u as Be,a as ve,b as Re}from"./chunk-MVLAA7QJ-B_G1OBIs.js";import{u as He,a as be,b as Ue}from"./chunk-FYES3CJR-Bd7FO_eC.js";import{g as We}from"./chunk-PXZ7QYKX-DZ_CHK12.js";import{u as Qe,a as Ve}from"./chunk-S5VOYOTX-DrkTuiaG.js";import{O as Ke,g as Ye,a as Ge}from"./chunk-IBTYKWYG-Dxgw1Bd8.js";import{r as Xe}from"./chunk-K7S5TX6I-qC6mB42x.js";import{f as re}from"./chunk-OV5NMSY6-CzJZ0JaW.js";import{D as _e}from"./chunk-AMJSV3NG-DPKI1Y1t.js";import{g as Je}from"./chunk-XFSJ7YIN-CYgS8ok5.js";import{u as Ze,a as se,b as Pe}from"./chunk-HCTCEIT6-8r5buTLG.js";import{a as q,g as S}from"./chunk-FSMQADBD-DQ6u7KYm.js";import{r as b,q as de,aL as es,aE as oe,b as g,j as e,W as T,B as N,aM as ss,d as ts,R as as,a as is,aN as ns,aO as te,U as ls,aP as cs,s as rs,u as L,aQ as Ne,H as E,T as d,aj as Ce,aR as ds,L as ae,aS as os,A as B,ay as ms,a2 as us,aT as xs,aU as ps,aV as fs,aG as hs,aW as gs,aX as js,aY as P,m as U,t as C,aZ as D,a_ as ys,a$ as vs,b0 as bs,b1 as _s,b2 as Ns,b3 as A,Z as K,b4 as ze}from"./index-Bq0Gzu_3.js";import{u as Cs}from"./chunk-7B63V4WX-tYP6K1CQ.js";import{i as zs,a as me}from"./chunk-OIAPXGI2-DNUkWr6K.js";import{T as X}from"./chunk-UR2E444G-BOK0EhlY.js";import{S as Os}from"./chunk-3IW4HYUP-B8Byj9_3.js";import{u as Y}from"./chunk-QAF7PVQE-Cn23_qPf.js";import{f as ie}from"./format-moz0PK7h.js";import{A as ne}from"./arrow-path-Cxpm9RlV.js";import{X as Oe}from"./x-circle-BcEe3vqW.js";import{P as ks}from"./pencil-square-DJB9OGX8.js";import{A as G}from"./arrow-down-right-mini-BNz7mPLX.js";import{D as ke}from"./document-text-DzTdFdkV.js";import{u as $}from"./use-prompt-DKUUp42P.js";import{C as w}from"./container-Dy7007w-.js";import{C as M}from"./copy-D5yx-l6D.js";import{S as F}from"./status-badge-XGUUJdyf.js";import{P as I}from"./popover-DVUhQEd-.js";import"./chunk-OPNCOFGA-DRzlWn4D.js";import"./Trans-D-2atTey.js";import"./chunk-MWVM4TYO-bKUcYSnf.js";import"./x-mark-mini-B2FnFGkK.js";import"./prompt-B670l_cz.js";import"./index-C99Xhc7P.js";var Ss=Object.defineProperty,W=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,ue=(s,t,i)=>t in s?Ss(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,qs=(s,t)=>{for(var i in t||(t={}))Se.call(t,i)&&ue(s,i,t[i]);if(W)for(var i of W(t))qe.call(t,i)&&ue(s,i,t[i]);return s},Es=(s,t)=>{var i={};for(var a in s)Se.call(s,a)&&t.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&W)for(var a of W(s))t.indexOf(a)<0&&qe.call(s,a)&&(i[a]=s[a]);return i};const Ee=b.forwardRef((s,t)=>{var i=s,{color:a="currentColor"}=i,l=Es(i,["color"]);return b.createElement("svg",qs({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none",ref:t},l),b.createElement("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.056 7.5H1.944M9.278 3.722 13.056 7.5l-3.778 3.778"}))});Ee.displayName="ArrowLongRight";var ws=Object.defineProperty,Q=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,xe=(s,t,i)=>t in s?ws(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,As=(s,t)=>{for(var i in t||(t={}))we.call(t,i)&&xe(s,i,t[i]);if(Q)for(var i of Q(t))Ae.call(t,i)&&xe(s,i,t[i]);return s},Ms=(s,t)=>{var i={};for(var a in s)we.call(s,a)&&t.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&Q)for(var a of Q(s))t.indexOf(a)<0&&Ae.call(s,a)&&(i[a]=s[a]);return i};const Me=b.forwardRef((s,t)=>{var i=s,{color:a="currentColor"}=i,l=Ms(i,["color"]);return b.createElement("svg",As({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none",ref:t},l),b.createElement("g",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#a)"},b.createElement("path",{d:"M1.056 4.611 7.07 7.93a.89.89 0 0 0 .858 0l6.015-3.318"}),b.createElement("path",{d:"M2.833 12.611h9.334c.982 0 1.777-.796 1.777-1.778V4.167c0-.982-.796-1.778-1.777-1.778H2.833c-.981 0-1.777.796-1.777 1.778v6.666c0 .982.796 1.778 1.777 1.778"})),b.createElement("defs",null,b.createElement("clipPath",{id:"a"},b.createElement("path",{fill:"#fff",d:"M0 0h15v15H0z"}))))});Me.displayName="Envelope";var Is=Object.defineProperty,V=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,pe=(s,t,i)=>t in s?Is(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Ts=(s,t)=>{for(var i in t||(t={}))Ie.call(t,i)&&pe(s,i,t[i]);if(V)for(var i of V(t))Te.call(t,i)&&pe(s,i,t[i]);return s},Ls=(s,t)=>{var i={};for(var a in s)Ie.call(s,a)&&t.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&V)for(var a of V(s))t.indexOf(a)<0&&Te.call(s,a)&&(i[a]=s[a]);return i};const Le=b.forwardRef((s,t)=>{var i=s,{color:a="currentColor"}=i,l=Ls(i,["color"]);return b.createElement("svg",Ts({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none",ref:t},l),b.createElement("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.5 1.5v5.333M11.278 4.167H3.722c-.982 0-1.778.796-1.778 1.778v5.333c0 .982.796 1.778 1.778 1.778h7.556c.982 0 1.778-.796 1.778-1.778V5.945c0-.982-.796-1.778-1.778-1.778"}),b.createElement("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m2.167 5.086 1.288-2.598c.3-.605.917-.988 1.593-.988h4.904c.676 0 1.293.383 1.593.988l1.288 2.599M4.167 10.833h1.777"}))});Le.displayName="FlyingBox";var $s=s=>({queryKey:cs.detail(s),queryFn:async()=>rs.admin.order.retrieve(s,{fields:_e})}),ma=async({params:s})=>{const t=s.id,i=$s(t);return de.getQueryData(i.queryKey)??await de.fetchQuery(i)},Ds=({orderPreview:s})=>{var o;const{t}=g(),i=(o=s==null?void 0:s.order_change)==null?void 0:o.claim_id,{mutateAsync:a}=Be(i,s.id),l=L(),n=async()=>{l(`/orders/${s.id}/claims`)},r=async()=>{await a(void 0,{onSuccess:()=>{C.success(t("orders.claims.toast.canceledSuccessfully"))},onError:u=>{C.error(u.message)}})};if(i)return e.jsx("div",{style:{background:"repeating-linear-gradient(-45deg, rgb(212, 212, 216, 0.15), rgb(212, 212, 216,.15) 10px, transparent 10px, transparent 20px)"},className:"-m-4 mb-1 border-b border-l p-4",children:e.jsx(w,{className:"flex items-center justify-between p-0",children:e.jsxs("div",{className:"flex w-full flex-row justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2 px-6 pt-4",children:[e.jsx(Ne,{className:"text-ui-fg-subtle"}),e.jsx(E,{level:"h2",children:t("orders.claims.panel.title")})]}),e.jsx("div",{className:"gap-2 px-6 pb-4",children:e.jsx(d,{children:t("orders.claims.panel.description")})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-x-2 rounded-b-xl px-4 py-4",children:[e.jsx(N,{size:"small",variant:"secondary",onClick:r,children:t("orders.claims.cancel.title")}),e.jsx(N,{size:"small",variant:"secondary",onClick:n,children:t("actions.continue")})]})]})})})},Fs=({orderPreview:s})=>{var o;const{t}=g(),i=(o=s==null?void 0:s.order_change)==null?void 0:o.exchange_id,{mutateAsync:a}=He(i,s.id),l=L(),n=async()=>{l(`/orders/${s.id}/exchanges`)},r=async()=>{await a(void 0,{onSuccess:()=>{C.success(t("orders.exchanges.toast.canceledSuccessfully"))},onError:u=>{C.error(u.message)}})};if(i)return e.jsx("div",{style:{background:"repeating-linear-gradient(-45deg, rgb(212, 212, 216, 0.15), rgb(212, 212, 216,.15) 10px, transparent 10px, transparent 20px)"},className:"-m-4 mb-1 border-b border-l p-4",children:e.jsx(w,{className:"flex items-center justify-between p-0",children:e.jsxs("div",{className:"flex w-full flex-row justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2 px-6 pt-4",children:[e.jsx(ne,{className:"text-ui-fg-subtle"}),e.jsx(E,{level:"h2",children:t("orders.exchanges.panel.title")})]}),e.jsx("div",{className:"gap-2 px-6 pb-4",children:e.jsx(d,{children:t("orders.exchanges.panel.description")})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-x-2 rounded-b-xl px-4 py-4",children:[e.jsx(N,{size:"small",variant:"secondary",onClick:r,children:t("orders.exchanges.cancel.title")}),e.jsx(N,{size:"small",variant:"secondary",onClick:n,children:t("actions.continue")})]})]})})})},Bs=({orderPreview:s})=>{const{t}=g(),i=s==null?void 0:s.order_change,a=i==null?void 0:i.return_id,l=(i==null?void 0:i.change_type)==="return_request"&&!!i.return_id,{mutateAsync:n}=Ze(a,s.id),r=L(),o=async()=>{r(`/orders/${s.id}/returns`)},u=async()=>{await n(void 0,{onSuccess:()=>{C.success(t("orders.returns.toast.canceledSuccessfully"))},onError:p=>{C.error(p.message)}})};if(!(!a||!l))return e.jsx("div",{style:{background:"repeating-linear-gradient(-45deg, rgb(212, 212, 216, 0.15), rgb(212, 212, 216,.15) 10px, transparent 10px, transparent 20px)"},className:"-m-4 mb-1 border-b border-l p-4",children:e.jsx(w,{className:"flex items-center justify-between p-0",children:e.jsxs("div",{className:"flex w-full flex-row justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2 px-6 pt-4",children:[e.jsx(Ce,{className:"text-ui-fg-subtle"}),e.jsx(E,{level:"h2",children:t("orders.returns.panel.title")})]}),e.jsx("div",{className:"gap-2 px-6 pb-4",children:e.jsx(d,{children:t("orders.returns.panel.description")})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-x-2 rounded-b-xl px-4 py-4",children:[e.jsx(N,{size:"small",variant:"secondary",onClick:u,children:t("orders.returns.cancel.title")}),e.jsx(N,{size:"small",variant:"secondary",onClick:o,children:t("actions.continue")})]})]})})})};function fe({item:s,quantity:t}){return e.jsx("div",{className:"text-ui-fg-subtle items-center gap-x-2",children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsxs("div",{className:"w-fit min-w-[27px]",children:[e.jsx("span",{className:"txt-small tabular-nums",children:t}),"x"]}),e.jsx(D,{src:s.thumbnail}),e.jsx("span",{className:"txt-small text-ui-fg-subtle font-medium",children:s.title}),s.variant_sku&&" Â· ",s.variant_sku&&e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx("span",{className:"txt-small",children:s.variant_sku}),e.jsx(M,{content:s.variant_sku,className:"text-ui-fg-muted"})]})]})},s.id)}var Rs=({order:s})=>{var m,x;const{t}=g(),i=L(),{order:a}=te(s.id),{mutateAsync:l}=Qe(s.id),{mutateAsync:n}=Ve(s.id),r=((m=a.order_change)==null?void 0:m.status)==="pending",[o,u]=b.useMemo(()=>{const h=[],y=[],_=new Map(s.items.map(c=>[c.id,c]));return((a==null?void 0:a.items)||[]).forEach(c=>{const v=_.get(c.id);if(!v){h.push({item:c,quantity:c.quantity});return}v.quantity>c.quantity&&y.push({item:c,quantity:v.quantity-c.quantity}),v.quantity<c.quantity&&h.push({item:c,quantity:c.quantity-v.quantity})}),[h,y]},[a]),p=async()=>{try{await n(),C.success(t("orders.edits.toast.confirmedSuccessfully"))}catch(h){C.error(h.message)}},f=async()=>{try{await l(),C.success(t("orders.edits.toast.canceledSuccessfully"))}catch(h){C.error(h.message)}};return!a||((x=a.order_change)==null?void 0:x.change_type)!=="edit"?null:e.jsx("div",{style:{background:"repeating-linear-gradient(-45deg, rgb(212, 212, 216, 0.15), rgb(212, 212, 216,.15) 10px, transparent 10px, transparent 20px)"},className:"-m-4 mb-1 border-b border-l p-4",children:e.jsx(w,{className:"flex items-center justify-between p-0",children:e.jsxs("div",{className:"flex w-full flex-col divide-y divide-dashed",children:[e.jsxs("div",{className:"flex items-center gap-2 px-6 py-4",children:[e.jsx(ds,{className:"text-blue-500"}),e.jsx(E,{level:"h2",children:t(r?"orders.edits.panel.titlePending":"orders.edits.panel.title")})]}),!!o.length&&e.jsxs("div",{className:"txt-small text-ui-fg-subtle flex flex-row px-6 py-4",children:[e.jsx("span",{className:"flex-1 font-medium",children:t("labels.added")}),e.jsx("div",{className:"flex flex-1 flex-col gap-y-2",children:o.map(({item:h,quantity:y})=>e.jsx(fe,{item:h,quantity:y},h.id))})]}),!!u.length&&e.jsxs("div",{className:"txt-small text-ui-fg-subtle flex flex-row px-6 py-4",children:[e.jsx("span",{className:"flex-1 font-medium",children:t("labels.removed")}),e.jsx("div",{className:"flex flex-1 flex-col gap-y-2",children:u.map(({item:h,quantity:y})=>e.jsx(fe,{item:h,quantity:y},h.id))})]}),e.jsxs("div",{className:"bg-ui-bg-subtle flex items-center justify-end gap-x-2 rounded-b-xl px-4 py-4",children:[r?e.jsx(N,{size:"small",variant:"secondary",onClick:()=>i(`/orders/${s.id}/edits`),children:t("actions.continueEdit")}):e.jsx(N,{size:"small",variant:"secondary",onClick:p,children:t("actions.forceConfirm")}),e.jsx(N,{size:"small",variant:"secondary",onClick:f,children:t("actions.cancel")})]})]})})})};function Hs(s){const{t}=g(),[i,a]=b.useState(!1),l=s.itemsToSend,n=s.itemsToReturn,r=s.itemsMap,o=s.title,u=()=>{a(!0)},p=()=>{a(!1)};if(!(!(l!=null&&l.length)&&!(n!=null&&n.length)))return e.jsxs(I,{open:i,children:[e.jsx(I.Trigger,{onMouseEnter:u,onMouseLeave:p,autoFocus:!1,className:"focus-visible:outline-none",children:e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:o})}),e.jsx(I.Content,{align:"center",side:"top",className:"bg-ui-bg-component max-w-[200px] p-0 focus-visible:outline-none",children:e.jsxs("div",{className:"flex flex-col",children:[!!(l!=null&&l.length)&&e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"txt-compact-small-plus mb-1",children:t("orders.activity.events.common.toSend")}),e.jsxs("div",{className:"flex flex-col",children:[l==null?void 0:l.map(f=>{const m=r==null?void 0:r.get(f.item_id);return e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsxs(d,{size:"small",className:"text-ui-fg-subtle",children:[f.quantity,"x"]}),e.jsx(D,{src:m==null?void 0:m.thumbnail}),e.jsx(d,{className:"txt-compact-small text-ui-fg-subtle truncate",children:`${m==null?void 0:m.variant_title} Â· ${m==null?void 0:m.product_title}`})]},f.id)}),e.jsx("div",{className:"flex flex-1 flex-row items-center gap-2"})]})]}),!!(n!=null&&n.length)&&e.jsxs("div",{className:"border-t-2 border-dotted p-3",children:[e.jsx("div",{className:"txt-compact-small-plus mb-1",children:t("orders.activity.events.common.toReturn")}),e.jsxs("div",{className:"flex flex-col",children:[n==null?void 0:n.map(f=>{const m=r==null?void 0:r.get(f.item_id);return e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsxs(d,{size:"small",className:"text-ui-fg-subtle",children:[f.quantity,"x"]}),e.jsx(D,{src:m==null?void 0:m.thumbnail}),e.jsx(d,{className:"txt-compact-small text-ui-fg-subtle truncate",children:`${m==null?void 0:m.variant_title} Â· ${m==null?void 0:m.product_title}`})]},f.id)}),e.jsx("div",{className:"flex flex-1 flex-row items-center gap-2"})]})]})]})})]})}var Us=Hs,Ws=({order:s})=>{const t=Qs(s);if(t.length<=3)return e.jsx("div",{className:"flex flex-col gap-y-0.5",children:t.map((n,r)=>e.jsx(H,{title:n.title,timestamp:n.timestamp,isFirst:r===t.length-1,itemsToSend:n.itemsToSend,itemsToReturn:n.itemsToReturn,itemsMap:n.itemsMap,children:n.children},r))});const i=t.slice(0,2),a=t.slice(2,t.length-1),l=t[t.length-1];return e.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[i.map((n,r)=>e.jsx(H,{title:n.title,timestamp:n.timestamp,itemsToSend:n.itemsToSend,itemsToReturn:n.itemsToReturn,itemsMap:n.itemsMap,children:n.children},r)),e.jsx(Vs,{activities:a}),e.jsx(H,{title:l.title,timestamp:l.timestamp,isFirst:!0,itemsToSend:l.itemsToSend,itemsToReturn:l.itemsToReturn,itemsMap:l.itemsMap,children:l.children})]})},Qs=s=>{const{t}=g(),{order_changes:i=[]}=ys(s.id,{change_type:["edit","claim","exchange","return"]}),a=Js(s,i),{order_items:l=[]}=vs(s.id,{fields:"+quantity",item_id:a},{enabled:!!i.length}),n=b.useMemo(()=>{var h;const x=new Map((h=s==null?void 0:s.items)==null?void 0:h.map(y=>[y.id,y]));for(const y of a){const _=l.find(c=>c.item.id===y);_&&x.set(y,{..._.item,quantity:_.quantity})}return x},[s.items,l,a]),{returns:r=[]}=se({order_id:s.id,fields:"+received_at,*items"}),{claims:o=[]}=ve({order_id:s.id,fields:"*additional_items"}),{exchanges:u=[]}=be({order_id:s.id,fields:"*additional_items"}),p=Ge(s),f=[];return b.useMemo(()=>{const x=[];for(const c of p){const v=c.amount;x.push({title:t("orders.activity.events.payment.awaiting"),timestamp:c.created_at,children:e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:q(v,c.currency_code)})}),c.canceled_at&&x.push({title:t("orders.activity.events.payment.canceled"),timestamp:c.canceled_at,children:e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:q(v,c.currency_code)})}),c.captured_at&&x.push({title:t("orders.activity.events.payment.captured"),timestamp:c.captured_at,children:e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:q(v,c.currency_code)})});for(const k of c.refunds||[])x.push({title:t("orders.activity.events.payment.refunded"),timestamp:k.created_at,children:e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:q(k.amount,c.currency_code)})})}for(const c of s.fulfillments||[])x.push({title:t("orders.activity.events.fulfillment.created"),timestamp:c.created_at,children:e.jsx(J,{fulfillment:c})}),c.delivered_at&&x.push({title:t("orders.activity.events.fulfillment.delivered"),timestamp:c.delivered_at,children:e.jsx(J,{fulfillment:c})}),c.shipped_at&&x.push({title:t("orders.activity.events.fulfillment.shipped"),timestamp:c.shipped_at,children:e.jsx(J,{fulfillment:c,isShipment:!0})}),c.canceled_at&&x.push({title:t("orders.activity.events.fulfillment.canceled"),timestamp:c.canceled_at});const h=new Map;for(const c of r)h.set(c.id,c),!(c.claim_id||c.exchange_id)&&(x.push({title:t("orders.activity.events.return.created",{returnId:c.id.slice(-7)}),timestamp:c.created_at,itemsToReturn:c==null?void 0:c.items,itemsMap:n,children:e.jsx(he,{orderReturn:c,isCreated:!c.canceled_at})}),c.canceled_at&&x.push({title:t("orders.activity.events.return.canceled",{returnId:c.id.slice(-7)}),timestamp:c.canceled_at}),(c.status==="received"||c.status==="partially_received")&&x.push({title:t("orders.activity.events.return.received",{returnId:c.id.slice(-7)}),timestamp:c.received_at,itemsToReturn:c==null?void 0:c.items,itemsMap:n,children:e.jsx(he,{orderReturn:c,isReceived:!0})}));for(const c of o){const v=h.get(c.return_id);x.push({title:t(c.canceled_at?"orders.activity.events.claim.canceled":"orders.activity.events.claim.created",{claimId:c.id.slice(-7)}),timestamp:c.canceled_at||c.created_at,itemsToSend:c.additional_items,itemsToReturn:v==null?void 0:v.items,itemsMap:n,children:e.jsx(Ks,{claim:c,claimReturn:v})})}for(const c of u){const v=h.get(c.return_id);x.push({title:t(c.canceled_at?"orders.activity.events.exchange.canceled":"orders.activity.events.exchange.created",{exchangeId:c.id.slice(-7)}),timestamp:c.canceled_at||c.created_at,itemsToSend:c.additional_items,itemsToReturn:v==null?void 0:v.items,itemsMap:n,children:e.jsx(Ys,{exchange:c,exchangeReturn:v})})}for(const c of i.filter(v=>v.change_type==="edit")){const v=c.status==="confirmed";c.status!=="pending"&&x.push({title:t(`orders.activity.events.edit.${c.status}`,{editId:c.id.slice(-7)}),timestamp:c.status==="requested"?c.requested_at:c.status==="declined"?c.declined_at:c.status==="canceled"?c.canceled_at:c.created_at,children:v?e.jsx(Gs,{edit:c,itemsMap:n}):null})}s.canceled_at&&x.push({title:t("orders.activity.events.canceled.title"),timestamp:s.canceled_at});const y=x.sort((c,v)=>new Date(v.timestamp).getTime()-new Date(c.timestamp).getTime()),_={title:t("orders.activity.events.placed.title"),timestamp:s.created_at,children:e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:q(s.total,s.currency_code)})};return[...y,_]},[s,p,r,u,i,f,!1,n])},H=({title:s,timestamp:t,isFirst:i=!1,children:a,itemsToSend:l,itemsToReturn:n,itemsMap:r})=>{const{getFullDate:o,getRelativeDate:u}=Y();return e.jsxs("div",{className:"grid grid-cols-[20px_1fr] items-start gap-2",children:[e.jsxs("div",{className:"flex size-full flex-col items-center gap-y-0.5",children:[e.jsx("div",{className:"flex size-5 items-center justify-center",children:e.jsx("div",{className:"bg-ui-bg-base shadow-borders-base flex size-2.5 items-center justify-center rounded-full",children:e.jsx("div",{className:"bg-ui-tag-neutral-icon size-1.5 rounded-full"})})}),!i&&e.jsx("div",{className:"bg-ui-border-base w-px flex-1"})]}),e.jsxs("div",{className:U({"pb-4":!i}),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[l!=null&&l.length||n!=null&&n.length?e.jsx(Us,{title:s,itemsToSend:l,itemsToReturn:n,itemsMap:r},s):e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:s}),t&&e.jsx(T,{content:o({date:t,includeTime:!0}),children:e.jsx(d,{size:"small",leading:"compact",className:"text-ui-fg-subtle text-right",children:u(t)})})]}),e.jsx("div",{children:a})]})]})},Vs=({activities:s})=>{const[t,i]=b.useState(!1),{t:a}=g();return s.length?e.jsxs(bs,{open:t,onOpenChange:i,children:[!t&&e.jsxs("div",{className:"grid grid-cols-[20px_1fr] items-start gap-2",children:[e.jsx("div",{className:"flex size-full flex-col items-center",children:e.jsx("div",{className:"border-ui-border-strong w-px flex-1 bg-[linear-gradient(var(--border-strong)_33%,rgba(255,255,255,0)_0%)] bg-[length:1px_3px] bg-right bg-repeat-y"})}),e.jsx("div",{className:"pb-4",children:e.jsx(_s,{className:"text-left",children:e.jsx(d,{size:"small",leading:"compact",weight:"plus",className:"text-ui-fg-muted",children:a("orders.activity.showMoreActivities",{count:s.length})})})})]}),e.jsx(Ns,{children:e.jsx("div",{className:"flex flex-col gap-y-0.5",children:s.map((l,n)=>e.jsx(H,{title:l.title,timestamp:l.timestamp,itemsToSend:l.itemsToSend,itemsToReturn:l.itemsToReturn,itemsMap:l.itemsMap,children:l.children},n))})})]}):null},J=({fulfillment:s})=>{const{t}=g(),i=s.items.reduce((a,l)=>a+l.quantity,0);return e.jsx("div",{children:e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:t("orders.activity.events.fulfillment.items",{count:i})})})},he=({orderReturn:s,isCreated:t,isReceived:i})=>{const a=$(),{t:l}=g(),{mutateAsync:n}=Pe(s.id,s.order_id),r=async()=>{await a({title:l("orders.returns.cancel.title"),description:l("orders.returns.cancel.description"),confirmText:l("actions.confirm"),cancelText:l("actions.cancel")})&&await n()},o=s.items.reduce((u,p)=>u+(i?p.received_quantity:p.quantity),0);return e.jsxs("div",{className:"flex items-start gap-1",children:[e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:l("orders.activity.events.return.items",{count:o})}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-[2px] flex items-center leading-none",children:"â"}),e.jsx(N,{onClick:r,className:"text-ui-fg-subtle h-auto px-0 leading-none hover:bg-transparent",variant:"transparent",size:"small",children:l("actions.cancel")})]})]})},Ks=({claim:s,claimReturn:t})=>{const i=$(),{t:a}=g(),l=!!s.created_at,{mutateAsync:n}=Re(s.id,s.order_id),r=async()=>{await i({title:a("orders.claims.cancel.title"),description:a("orders.claims.cancel.description"),confirmText:a("actions.confirm"),cancelText:a("actions.cancel")})&&await n()},o=(s.additional_items||[]).reduce((p,f)=>p+f.quantity,0),u=((t==null?void 0:t.items)||[]).reduce((p,f)=>p+f.quantity,0);return e.jsxs("div",{children:[o>0&&e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:a("orders.activity.events.claim.itemsInbound",{count:o})}),u>0&&e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:a("orders.activity.events.claim.itemsOutbound",{count:u})}),!l&&e.jsx(N,{onClick:r,className:"text-ui-fg-subtle h-auto px-0 leading-none hover:bg-transparent",variant:"transparent",size:"small",children:a("actions.cancel")})]})},Ys=({exchange:s,exchangeReturn:t})=>{const i=$(),{t:a}=g(),l=!!s.canceled_at,{mutateAsync:n}=Ue(s.id,s.order_id),r=async()=>{await i({title:a("orders.exchanges.cancel.title"),description:a("orders.exchanges.cancel.description"),confirmText:a("actions.confirm"),cancelText:a("actions.cancel")})&&await n()},o=(s.additional_items||[]).reduce((p,f)=>p+f.quantity,0),u=((t==null?void 0:t.items)||[]).reduce((p,f)=>p+f.quantity,0);return e.jsxs("div",{children:[o>0&&e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:a("orders.activity.events.exchange.itemsInbound",{count:o})}),u>0&&e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:a("orders.activity.events.exchange.itemsOutbound",{count:u})}),!l&&e.jsx(N,{onClick:r,className:"text-ui-fg-subtle h-auto px-0 leading-none hover:bg-transparent",variant:"transparent",size:"small",children:a("actions.cancel")})]})},Gs=({edit:s,itemsMap:t})=>{const{t:i}=g(),[a,l]=b.useMemo(()=>Xs(s.actions,t),[s,t]);return e.jsxs("div",{children:[a>0&&e.jsxs(d,{size:"small",className:"text-ui-fg-subtle",children:[i("labels.added"),": ",a]}),l>0&&e.jsxs(d,{size:"small",className:"text-ui-fg-subtle",children:[i("labels.removed"),": ",l]})]})};function Xs(s,t){let i=0,a=0;return s.forEach(l=>{var n;if(l.action==="ITEM_ADD"&&(i+=l.details.quantity),l.action==="ITEM_UPDATE"){const r=l.details.quantity,o=(n=t.get(l.details.reference_id))==null?void 0:n.quantity;if(typeof o=="number"){const u=Math.abs(r-o);r>o&&(i+=u),r<o&&(a+=u)}}}),[i,a]}function Js(s,t){if(!(t!=null&&t.length))return[];const i=new Set,a=new Map(s.items.map(l=>[l.id,!0]));return t.forEach(l=>{l.actions.forEach(n=>{n.details.reference_id.startsWith("ordli_")&&!a.has(n.details.reference_id)&&i.add(n.details.reference_id)})}),Array.from(i)}var Zs=({order:s})=>{const{t}=g();return e.jsxs(w,{className:"flex flex-col gap-y-8 px-6 py-4",children:[e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(E,{level:"h2",children:t("orders.activity.header")})})}),e.jsx(Ws,{order:s})]})},Ps=({data:s})=>{const{t}=g(),i=s.customer_id,a=at(s),l=s.email,n=(a||l||"").charAt(0).toUpperCase();return e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:t("fields.id")}),e.jsx(ae,{to:`/customers/${i}`,className:"focus:shadow-borders-focus rounded-[4px] outline-none transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-x-2 overflow-hidden",children:[e.jsx(os,{size:"2xsmall",fallback:n}),e.jsx(d,{size:"small",leading:"compact",className:"text-ui-fg-subtle hover:text-ui-fg-base transition-fg truncate",children:a||l})]})})]})},et=({data:s})=>{var a,l;const{t}=g(),i=((a=s.shipping_address)==null?void 0:a.company)||((l=s.billing_address)==null?void 0:l.company);return i?e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:t("fields.company")}),e.jsx(d,{size:"small",leading:"compact",className:"truncate",children:i})]}):null},st=({data:s})=>{var l,n;const{t}=g(),i=((l=s.shipping_address)==null?void 0:l.phone)||((n=s.billing_address)==null?void 0:n.phone),a=s.email||"";return e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-start px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:t("orders.customer.contactLabel")}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsxs("div",{className:"grid grid-cols-[1fr_20px] items-start gap-x-2",children:[e.jsx(d,{size:"small",leading:"compact",className:"text-pretty break-all",children:a}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{content:a,className:"text-ui-fg-muted"})})]}),i&&e.jsxs("div",{className:"grid grid-cols-[1fr_20px] items-start gap-x-2",children:[e.jsx(d,{size:"small",leading:"compact",className:"text-pretty break-all",children:i}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{content:a,className:"text-ui-fg-muted"})})]})]})]})},ge=({address:s,type:t})=>{const{t:i}=g();return e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-start px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:i(t==="shipping"?"addresses.shippingAddress.label":"addresses.billingAddress.label")}),s?e.jsxs("div",{className:"grid grid-cols-[1fr_20px] items-start gap-x-2",children:[e.jsx(d,{size:"small",leading:"compact",children:me({address:s}).map((a,l)=>e.jsxs("span",{className:"break-words",children:[a,e.jsx("br",{})]},l))}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{content:me({address:s}).join(`
`),className:"text-ui-fg-muted"})})]}):e.jsx(d,{size:"small",leading:"compact",children:"-"})]})},tt=({data:s})=>{const{t}=g();return e.jsxs("div",{className:"divide-y",children:[e.jsx(ge,{address:s.shipping_address,type:"shipping"}),zs(s.shipping_address,s.billing_address)?e.jsxs("div",{className:"grid grid-cols-2 items-center px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",className:"text-ui-fg-subtle",children:t("addresses.billingAddress.label")}),e.jsx(d,{size:"small",leading:"compact",className:"text-ui-fg-muted",children:t("addresses.billingAddress.sameAsShipping")})]}):e.jsx(ge,{address:s.billing_address,type:"billing"})]})},R=Object.assign({},{ID:Ps,Company:et,Contact:st,Addresses:tt}),at=s=>{const{first_name:t,last_name:i}=s.shipping_address||{},{first_name:a,last_name:l}=s.billing_address||{},{first_name:n,last_name:r}=s.customer||{},o=[n,r].filter(Boolean).join(" "),u=[t,i].filter(Boolean).join(" "),p=[a,l].filter(Boolean).join(" ");return o||u||p},it=({order:s})=>e.jsxs(w,{className:"divide-y p-0",children:[e.jsx(nt,{}),e.jsx(R.ID,{data:s}),e.jsx(R.Contact,{data:s}),e.jsx(R.Company,{data:s}),e.jsx(R.Addresses,{data:s})]}),nt=()=>{const{t:s}=g();return e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx(E,{level:"h2",children:s("fields.customer")}),e.jsx(B,{groups:[{actions:[{label:s("transferOwnership.label"),to:"transfer-ownership",icon:e.jsx(ne,{})}]},{actions:[{label:s("addresses.shippingAddress.editLabel"),to:"shipping-address",icon:e.jsx(Le,{})},{label:s("addresses.billingAddress.editLabel"),to:"billing-address",icon:e.jsx(ms,{})}]},{actions:[{label:s("email.editLabel"),to:"email",icon:e.jsx(Me,{})}]}]})]})},lt=({order:s})=>{const t=s.fulfillments||[];return e.jsxs("div",{className:"flex flex-col gap-y-3",children:[e.jsx(rt,{order:s}),t.map((i,a)=>e.jsx(dt,{index:a,fulfillment:i,order:s},i.id))]})},ct=({item:s,currencyCode:t})=>e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-start px-6 py-4",children:[e.jsxs("div",{className:"flex items-start gap-x-4",children:[e.jsx(D,{src:s.thumbnail}),e.jsxs("div",{children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",className:"text-ui-fg-base",children:s.title}),s.variant.sku&&e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx(d,{size:"small",children:s.variant.sku}),e.jsx(M,{content:s.variant.sku,className:"text-ui-fg-muted"})]}),e.jsx(d,{size:"small",children:s.variant.options.map(i=>i.value).join(" Â· ")})]})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-x-4",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(d,{size:"small",children:S(s.unit_price,t)})}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs(d,{children:[e.jsx("span",{className:"tabular-nums",children:s.quantity-s.detail.fulfilled_quantity}),"x"]})}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(d,{size:"small",children:S(s.subtotal||0,t)})})]})]},s.id),rt=({order:s})=>{const t=s.items.filter(a=>a.requires_shipping&&a.detail.fulfilled_quantity<a.quantity),i=s.items.filter(a=>!a.requires_shipping&&a.detail.fulfilled_quantity<a.quantity);return e.jsxs(e.Fragment,{children:[!!t.length&&e.jsx(je,{order:s,unfulfilledItems:t,requiresShipping:!0}),!!i.length&&e.jsx(je,{order:s,unfulfilledItems:i,requiresShipping:!1})]})},je=({order:s,unfulfilledItems:t,requiresShipping:i=!1})=>{const{t:a}=g();return e.jsxs(w,{className:"divide-y p-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx(E,{level:"h2",children:a("orders.fulfillment.unfulfilledItems")}),e.jsxs("div",{className:"flex items-center gap-x-4",children:[i&&e.jsx(F,{color:"red",className:"text-nowrap",children:a("orders.fulfillment.requiresShipping")}),e.jsx(F,{color:"red",className:"text-nowrap",children:a("orders.fulfillment.awaitingFulfillmentBadge")}),e.jsx(B,{groups:[{actions:[{label:a("orders.fulfillment.fulfillItems"),icon:e.jsx(us,{}),to:`/orders/${s.id}/fulfillment?requires_shipping=${i}`}]}]})]})]}),e.jsx("div",{children:t.map(l=>e.jsx(ct,{item:l,currencyCode:s.currency_code},l.id))})]})},dt=({fulfillment:s,order:t,index:i})=>{const{t:a}=g(),l=$(),n=L(),r=!!s.location_id,{stock_location:o,isError:u,error:p}=xs(s.location_id,void 0,{enabled:r});let f=s.requires_shipping?"Awaiting shipping":"Awaiting delivery",m="blue",x=s.created_at;s.canceled_at?(f="Canceled",m="red",x=s.canceled_at):s.delivered_at?(f="Delivered",m="green",x=s.delivered_at):s.shipped_at&&(f="Shipped",m="green",x=s.shipped_at);const{mutateAsync:h}=ps(t.id,s.id),{mutateAsync:y}=fs(t.id,s.id),_=!s.canceled_at&&!s.shipped_at&&!s.delivered_at&&s.requires_shipping,c=!s.canceled_at&&!s.delivered_at,v=async()=>{await l({title:a("general.areYouSure"),description:a("orders.fulfillment.markAsDeliveredWarning"),confirmText:a("actions.continue"),cancelText:a("actions.cancel"),variant:"confirmation"})&&await y({},{onSuccess:()=>{C.success(a("orders.fulfillment.toast.fulfillmentDelivered"))},onError:O=>{C.error(O.message)}})},k=async()=>{if(s.shipped_at){C.warning(a("orders.fulfillment.toast.fulfillmentShipped"));return}await l({title:a("general.areYouSure"),description:a("orders.fulfillment.cancelWarning"),confirmText:a("actions.continue"),cancelText:a("actions.cancel")})&&await h(void 0,{onSuccess:()=>{C.success(a("orders.fulfillment.toast.canceled"))},onError:O=>{C.error(O.message)}})};if(u)throw p;return e.jsxs(w,{className:"divide-y p-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx(E,{level:"h2",children:a("orders.fulfillment.number",{number:i+1})}),e.jsxs("div",{className:"flex items-center gap-x-4",children:[e.jsx(T,{content:ie(new Date(x),"dd MMM, yyyy, HH:mm:ss"),children:e.jsx(F,{color:m,className:"text-nowrap",children:f})}),e.jsx(B,{groups:[{actions:[{label:a("actions.cancel"),icon:e.jsx(Oe,{}),onClick:k,disabled:!!s.canceled_at}]}]})]})]}),e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-start px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:a("orders.fulfillment.itemsLabel")}),e.jsx("ul",{children:s.items.map(j=>e.jsx("li",{children:e.jsxs(d,{size:"small",leading:"compact",children:[j.quantity,"x ",j.title]})},j.line_item_id))})]}),r&&e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:a("orders.fulfillment.shippingFromLabel")}),o?e.jsx(ae,{to:`/settings/locations/${o.id}`,className:"text-ui-fg-interactive hover:text-ui-fg-interactive-hover transition-fg",children:e.jsx(d,{size:"small",leading:"compact",children:o.name})}):e.jsx(hs,{className:"w-16"})]}),e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:a("fields.provider")}),e.jsx(d,{size:"small",leading:"compact",children:Fe(s.provider_id)})]}),e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-start px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:a("orders.fulfillment.trackingLabel")}),e.jsx("div",{children:s.labels&&s.labels.length>0?e.jsx("ul",{children:s.labels.map(j=>j.url&&j.url.length>0&&j.url!=="#"?e.jsx("li",{children:e.jsx("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",className:"text-ui-fg-interactive hover:text-ui-fg-interactive-hover transition-fg",children:e.jsx(d,{size:"small",leading:"compact",children:j.tracking_number})})},j.tracking_number):e.jsx("li",{children:e.jsx(d,{size:"small",leading:"compact",children:j.tracking_number})},j.tracking_number))}):e.jsx(d,{size:"small",leading:"compact",children:"-"})})]}),(_||c)&&e.jsxs("div",{className:"bg-ui-bg-subtle flex items-center justify-end rounded-b-xl px-4 py-4 gap-x-2",children:[c&&e.jsx(N,{onClick:v,variant:"secondary",children:a("orders.fulfillment.markAsDelivered")}),_&&e.jsx(N,{onClick:()=>n(`./${s.id}/create-shipment`),variant:"secondary",children:a("orders.fulfillment.markAsShipped")})]})]})},ot=({order:s})=>{var n;const{t}=g(),i=$(),{mutateAsync:a}=gs(s.id),l=async()=>{await i({title:t("general.areYouSure"),description:t("orders.cancelWarning",{id:`#${s.display_id}`}),confirmText:t("actions.continue"),cancelText:t("actions.cancel")})&&await a(s.id)};return e.jsxs(w,{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsxs(E,{children:["#",s.display_id]}),e.jsx(M,{content:`#${s.display_id}`,className:"text-ui-fg-muted"})]}),e.jsx(d,{size:"small",className:"text-ui-fg-subtle",children:t("orders.onDateFromSalesChannel",{date:ie(new Date(s.created_at),"dd MMM, yyyy, HH:mm:ss"),salesChannel:(n=s.sales_channel)==null?void 0:n.name})})]}),e.jsxs("div",{className:"flex items-center gap-x-4",children:[e.jsxs("div",{className:"flex items-center gap-x-1.5",children:[e.jsx(ut,{order:s}),e.jsx(mt,{order:s})]}),e.jsx(B,{groups:[{actions:[{label:t("actions.cancel"),onClick:l,icon:e.jsx(Oe,{})}]}]})]})]})},mt=({order:s})=>{const{t}=g(),{label:i,color:a}=Je(t,s.fulfillment_status);return e.jsx(F,{color:a,className:"text-nowrap",children:i})},ut=({order:s})=>(g(),null),xt=({groups:s,children:t})=>e.jsxs(A,{children:[e.jsx(A.Trigger,{asChild:!0,children:t}),e.jsx(A.Content,{children:s.map((i,a)=>{if(!i.actions.length)return null;const l=a===s.length-1;return e.jsxs(A.Group,{children:[i.actions.map((n,r)=>n.onClick?e.jsxs(A.Item,{disabled:n.disabled,onClick:o=>{o.stopPropagation(),n.onClick()},className:U("[&_svg]:text-ui-fg-subtle flex items-center gap-x-2",{"[&_svg]:text-ui-fg-disabled":n.disabled}),children:[n.icon,e.jsx("span",{children:n.label})]},r):e.jsx("div",{children:e.jsx(A.Item,{className:U("[&_svg]:text-ui-fg-subtle flex items-center gap-x-2",{"[&_svg]:text-ui-fg-disabled":n.disabled}),asChild:!0,disabled:n.disabled,children:e.jsxs(ae,{to:n.to,onClick:o=>o.stopPropagation(),children:[n.icon,e.jsx("span",{children:n.label})]})})},r)),!l&&e.jsx(A.Separator,{})]},a)})})]}),pt=es(Xe()),ft="",$e=oe.forwardRef(({paymentCollection:s,order:t},i)=>{const[a,l]=b.useState(!1),[n,r]=b.useState(!1),[o,u]=b.useState("CopyPaymentLink"),{t:p}=g(),f=async m=>{m.stopPropagation(),l(!0),(0,pt.default)(`${ft}/payment-collection/${s.id}`),setTimeout(()=>{l(!1)},2e3)};return oe.useEffect(()=>{if(a){u(p("actions.copied"));return}setTimeout(()=>{u(p("actions.copy"))},500)},[a]),e.jsx(T,{content:o,open:a||n,onOpenChange:r,children:e.jsxs(N,{ref:i,variant:"secondary",size:"small","aria-label":"CopyPaymentLink code snippet",onClick:f,children:[a?e.jsx(ss,{className:"inline"}):e.jsx(Os,{className:"inline"}),p("orders.payment.paymentLink",{amount:q(s.amount,t==null?void 0:t.currency_code)})]})})});$e.displayName="CopyPaymentLink";function ye(s){const t=new Date(s);t.setMinutes(t.getMinutes()-t.getTimezoneOffset());const a=Intl.DateTimeFormat().resolvedOptions().hour12?"dd MMM yyyy hh:MM a":"dd MMM yyyy HH:MM";return ie(t,a)}function ht({orderReturn:s}){const{t}=g(),[i,a]=b.useState(!1),l=()=>{a(!0)},n=()=>{a(!1)};let r="Return",o=s.id;if(s.claim_id&&(r="Claim",o=s.claim_id),s.exchange_id&&(r="Exchange",o=s.exchange_id),typeof s=="object")return e.jsxs(I,{open:i,children:[e.jsx(I.Trigger,{onMouseEnter:l,onMouseLeave:n,autoFocus:!1,className:"focus-visible:outline-none align-sub",children:e.jsx(ze,{})}),e.jsx(I.Content,{align:"center",side:"top",className:"bg-ui-bg-component focus-visible:outline-none p-2",children:e.jsxs("div",{className:"",children:[e.jsxs(K,{size:"2xsmall",className:"mb-2",rounded:"full",children:[r,": #",o.slice(-7)]}),e.jsxs(d,{size:"xsmall",children:[e.jsx("span",{className:"text-ui-fg-subtle",children:t("orders.returns.returnRequested")})," Â· ",ye(s.requested_at)]}),e.jsxs(d,{size:"xsmall",children:[e.jsx("span",{className:"text-ui-fg-subtle",children:t("orders.returns.itemReceived")})," Â· ",s.received_at?ye(s.received_at):"-"]})]})})]})}var ee=ht;function gt({shippingMethod:s}){const{t}=g(),i=s==null?void 0:s.detail;if(!i)return;let a=t("orders.return"),l=i.return_id;if(i.claim_id&&(a=t("orders.claim"),l=i.claim_id),i.exchange_id&&(a=t("orders.exchange"),l=i.exchange_id),!!l)return e.jsx(T,{content:e.jsxs(K,{size:"2xsmall",rounded:"full",children:[a,": #",l.slice(-7)]}),children:e.jsx(ze,{className:"inline-block text-ui-fg-muted ml-1"})})}var jt=gt,yt=({order:s})=>{var _,c,v,k;const{t}=g(),i=L(),a=$(),{reservations:l}=Cs({line_item_id:(_=s==null?void 0:s.items)==null?void 0:_.map(j=>j.id)},{enabled:Array.isArray(s==null?void 0:s.items)}),{order:n}=te(s.id),{returns:r=[]}=se({status:"requested",order_id:s.id,fields:"+received_at"}),o=b.useMemo(()=>r.filter(j=>!j.canceled_at),[r]),u=!!o.length,p=b.useMemo(()=>{var O;if(!l)return!1;const j=new Map(l.map(z=>[z.line_item_id,z.id]));for(const z of s.items)if((O=z.variant)!=null&&O.manage_inventory&&z.quantity-z.detail.fulfilled_quantity>0&&!j.has(z.id))return!0;return!1},[l]),f=s.payment_collections.find(j=>j.status==="not_paid"),{mutateAsync:m}=js(s.id,f==null?void 0:f.id),x=f&&(((c=s==null?void 0:s.summary)==null?void 0:c.pending_difference)||0)>0,h=(((v=s==null?void 0:s.summary)==null?void 0:v.pending_difference)||0)<0,y=async j=>{await a({title:t("orders.payment.markAsPaid"),description:t("orders.payment.markAsPaidPayment",{amount:re(j.amount,s.currency_code)}),confirmText:t("actions.confirm"),cancelText:t("actions.cancel"),variant:"confirmation"})&&await m({order_id:s.id},{onSuccess:()=>{C.success(t("orders.payment.markAsPaidPaymentSuccess",{amount:re(j.amount,s.currency_code)}))},onError:z=>{C.error(z.message)}})};return e.jsxs(w,{className:"divide-y divide-dashed p-0",children:[e.jsx(vt,{order:s,orderPreview:n}),e.jsx(_t,{order:s,reservations:l}),e.jsx(Nt,{order:s}),e.jsx(qt,{order:s}),(p||u||x||h)&&e.jsxs("div",{className:"bg-ui-bg-subtle flex items-center justify-end gap-x-2 rounded-b-xl px-4 py-4",children:[u&&(o.length===1?e.jsx(N,{onClick:()=>i(`/orders/${s.id}/returns/${o[0].id}/receive`),variant:"secondary",size:"small",children:t("orders.returns.receive.action")}):e.jsx(xt,{groups:[{actions:o.map(j=>{let O=j.id,z="Return";return j.exchange_id&&(O=j.exchange_id,z="Exchange"),j.claim_id&&(O=j.claim_id,z="Claim"),{label:t("orders.returns.receive.receiveItems",{id:`#${O.slice(-7)}`,returnType:z}),icon:e.jsx(Ee,{}),to:`/orders/${s.id}/returns/${j.id}/receive`}})}],children:e.jsx(N,{variant:"secondary",size:"small",children:t("orders.returns.receive.action")})})),p&&e.jsx(N,{onClick:()=>i("./allocate-items"),variant:"secondary",children:t("orders.allocateItems.action")}),x&&e.jsx($e,{paymentCollection:f,order:s}),x&&e.jsx(N,{size:"small",variant:"secondary",onClick:()=>y(f),children:t("orders.payment.markAsPaid")}),h&&e.jsx(N,{size:"small",variant:"secondary",onClick:()=>i(`/orders/${s.id}/refund`),children:t("orders.payment.refundAmount",{amount:q((((k=s==null?void 0:s.summary)==null?void 0:k.pending_difference)||0)*-1,s==null?void 0:s.currency_code)})})]})]})},vt=({order:s,orderPreview:t})=>{var r,o,u,p,f,m,x,h,y,_,c,v,k,j,O,z,le,ce;const{t:i}=g(),a=s.items.every(De=>!(We(De)>0)),l=((r=t==null?void 0:t.order_change)==null?void 0:r.change_type)==="edit",n=((o=t==null?void 0:t.order_change)==null?void 0:o.change_type)==="edit"&&((u=t==null?void 0:t.order_change)==null?void 0:u.status)==="pending";return e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx(E,{level:"h2",children:i("fields.summary")}),e.jsx(B,{groups:[{actions:[{label:i(n?"orders.summary.editOrderContinue":"orders.summary.editOrder"),to:`/orders/${s.id}/edits`,icon:e.jsx(ks,{}),disabled:(t==null?void 0:t.order_change)&&((p=t==null?void 0:t.order_change)==null?void 0:p.change_type)!=="edit"||((f=t==null?void 0:t.order_change)==null?void 0:f.change_type)==="edit"&&((m=t==null?void 0:t.order_change)==null?void 0:m.status)==="requested"}]},{actions:[{label:i("orders.returns.create"),to:`/orders/${s.id}/returns`,icon:e.jsx(Ce,{}),disabled:a||l||!!((x=t==null?void 0:t.order_change)!=null&&x.exchange_id)||!!((h=t==null?void 0:t.order_change)!=null&&h.claim_id)},{label:(y=t==null?void 0:t.order_change)!=null&&y.id&&((_=t==null?void 0:t.order_change)!=null&&_.exchange_id)?i("orders.exchanges.manage"):i("orders.exchanges.create"),to:`/orders/${s.id}/exchanges`,icon:e.jsx(ne,{}),disabled:a||l||!!((c=t==null?void 0:t.order_change)!=null&&c.return_id)&&!((v=t==null?void 0:t.order_change)!=null&&v.exchange_id)||!!((k=t==null?void 0:t.order_change)!=null&&k.claim_id)},{label:(j=t==null?void 0:t.order_change)!=null&&j.id&&((O=t==null?void 0:t.order_change)!=null&&O.claim_id)?i("orders.claims.manage"):i("orders.claims.create"),to:`/orders/${s.id}/claims`,icon:e.jsx(Ne,{}),disabled:a||l||!!((z=t==null?void 0:t.order_change)!=null&&z.return_id)&&!((le=t==null?void 0:t.order_change)!=null&&le.claim_id)||!!((ce=t==null?void 0:t.order_change)!=null&&ce.exchange_id)}]}]})]})},bt=({item:s,currencyCode:t,reservation:i,returns:a,claims:l,exchanges:n})=>{var f,m,x,h,y;const{t:r}=g(),o=(f=s.variant)==null?void 0:f.manage_inventory,u=o&&(((x=(m=s.variant)==null?void 0:m.inventory_items)==null?void 0:x.length)||0)>1,p=s.quantity-s.detail.fulfilled_quantity>0;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center gap-x-4 px-6 py-4",children:[e.jsxs("div",{className:"flex items-start gap-x-4",children:[e.jsx(D,{src:s.thumbnail}),e.jsxs("div",{children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",className:"text-ui-fg-base",children:s.title}),s.variant_sku&&e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx(d,{size:"small",children:s.variant_sku}),e.jsx(M,{content:s.variant_sku,className:"text-ui-fg-muted"})]}),e.jsx(d,{size:"small",children:(y=(h=s.variant)==null?void 0:h.options)==null?void 0:y.map(_=>_.value).join(" Â· ")})]})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-x-4",children:[e.jsx("div",{className:"flex items-center justify-end gap-x-4",children:e.jsx(d,{size:"small",children:S(s.unit_price,t)})}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"w-fit min-w-[27px]",children:e.jsxs(d,{size:"small",children:[e.jsx("span",{className:"tabular-nums",children:s.quantity}),"x"]})}),e.jsx("div",{className:"overflow-visible",children:o&&p&&e.jsx(F,{color:i?"green":"orange",className:"text-nowrap",children:r(i?"orders.reservations.allocatedLabel":"orders.reservations.notAllocatedLabel")})})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(d,{size:"small",className:"pt-[1px]",children:S(s.subtotal||0,t)})})]})]},s.id),u&&e.jsx(Ct,{item:s}),a.map(_=>e.jsx(Ot,{orderReturn:_,itemId:s.id},_.id)),l.map(_=>e.jsx(kt,{claim:_,itemId:s.id},_.id)),n.map(_=>e.jsx(St,{exchange:_,itemId:s.id},_.id))]})},_t=({order:s,reservations:t})=>{var r;const{claims:i=[]}=ve({order_id:s.id,fields:"*additional_items"}),{exchanges:a=[]}=be({order_id:s.id,fields:"*additional_items"}),{returns:l=[]}=se({order_id:s.id,fields:"*items,*items.reason"}),n=b.useMemo(()=>new Map((t||[]).map(o=>[o.line_item_id,o])),[t]);return e.jsx("div",{children:(r=s.items)==null?void 0:r.map(o=>{const u=n.get(o.id);return e.jsx(bt,{item:o,currencyCode:s.currency_code,reservation:u,returns:l,exchanges:a,claims:i},o.id)})})},Z=({label:s,value:t,secondaryValue:i,tooltip:a})=>e.jsxs("div",{className:"grid grid-cols-3 items-center",children:[e.jsxs(d,{size:"small",leading:"compact",children:[s," ",a]}),e.jsx("div",{className:"text-right",children:e.jsx(d,{size:"small",leading:"compact",children:i})}),e.jsx("div",{className:"text-right",children:e.jsx(d,{size:"small",leading:"compact",children:t})})]}),Nt=({order:s})=>{const{t}=g(),[i,a]=b.useState(!1),[l,n]=b.useState(!1),r=b.useMemo(()=>{const m=new Set;return s.items.forEach(x=>{var h;return(h=x.adjustments)==null?void 0:h.forEach(y=>{m.add(y.code)})}),Array.from(m).sort()},[s]),o=b.useMemo(()=>{const m={};return s.items.forEach(x=>{var h;(h=x.tax_lines)==null||h.forEach(y=>{m[y.code]=(m[y.code]||0)+y.total})}),s.shipping_methods.forEach(x=>{var h;(h=x.tax_lines)==null||h.forEach(y=>{m[y.code]=(m[y.code]||0)+y.total})}),m},[s]),u=!!s.region.automatic_taxes,p=!!Object.keys(o).length,f=u?s.discount_total:s.discount_subtotal;return e.jsxs("div",{className:"text-ui-fg-subtle flex flex-col gap-y-2 px-6 py-4",children:[e.jsx(Z,{label:t(u?"orders.summary.itemTotal":"orders.summary.itemSubtotal"),value:S(s.item_total,s.currency_code)}),e.jsx(Z,{label:e.jsxs("div",{onClick:()=>n(m=>!m),className:"flex cursor-pointer items-center gap-1",children:[e.jsx("span",{children:t(u?"orders.summary.shippingTotal":"orders.summary.shippingSubtotal")}),e.jsx(P,{style:{transform:`rotate(${l?0:-90}deg)`}})]}),value:S(u?s.shipping_total:s.shipping_subtotal,s.currency_code)}),l&&e.jsx("div",{className:"flex flex-col gap-1 pl-5",children:(s.shipping_methods||[]).sort((m,x)=>m.created_at.localeCompare(x.created_at)).map((m,x)=>e.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[e.jsx("div",{children:e.jsxs("span",{className:"txt-small text-ui-fg-subtle font-medium",children:[m.name,m.detail.return_id&&` (${t("fields.returnShipping")})`," ",e.jsx(jt,{shippingMethod:m},x)]})}),e.jsx("div",{className:"relative flex-1",children:e.jsx("div",{className:"bottom-[calc(50% - 2px)] absolute h-[1px] w-full border-b border-dashed"})}),e.jsx("span",{className:"txt-small text-ui-fg-muted",children:S(u?m.total:m.subtotal,s.currency_code)})]},m.id))}),e.jsx(Z,{label:t(u?"orders.summary.discountTotal":"orders.summary.discountSubtotal"),secondaryValue:r.join(", "),value:f>0?`- ${S(f,s.currency_code)}`:"-"}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{onClick:()=>p&&a(m=>!m),className:U("flex items-center gap-1",{"cursor-pointer":p}),children:[e.jsx("span",{className:"txt-small select-none",children:t(u?"orders.summary.taxTotalIncl":"orders.summary.taxTotal")}),p&&e.jsx(P,{style:{transform:`rotate(${i?0:-90}deg)`}})]}),e.jsx("div",{className:"text-right",children:e.jsx(d,{size:"small",leading:"compact",children:S(s.tax_total,s.currency_code)})})]}),i&&e.jsx("div",{className:"flex flex-col gap-1 pl-5",children:Object.entries(o).map(([m,x])=>e.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[e.jsx("div",{children:e.jsx("span",{className:"txt-small text-ui-fg-subtle font-medium",children:m})}),e.jsx("div",{className:"relative flex-1",children:e.jsx("div",{className:"bottom-[calc(50% - 2px)] absolute h-[1px] w-full border-b border-dashed"})}),e.jsx("span",{className:"txt-small text-ui-fg-muted",children:S(x,s.currency_code)})]},m))})]})]})},Ct=({item:s})=>{const{t}=g(),[i,a]=b.useState(!1),l=s.variant.inventory_items;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:()=>a(n=>!n),className:"flex cursor-pointer items-center gap-2 border-t border-dashed px-6 py-4",children:[e.jsx(P,{style:{transform:`rotate(${i?0:-90}deg)`}}),e.jsx("span",{className:"text-ui-fg-muted txt-small select-none",children:t("orders.summary.inventoryKit",{count:l.length})})]}),i&&e.jsx("div",{className:"flex flex-col gap-1 px-6 pb-4",children:l.map(n=>e.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[e.jsx("div",{children:e.jsxs("span",{className:"txt-small text-ui-fg-subtle font-medium",children:[n.inventory.title,n.inventory.sku&&e.jsxs("span",{className:"text-ui-fg-subtle font-normal",children:[" ","â ",n.inventory.sku]})]})}),e.jsx("div",{className:"relative flex-1",children:e.jsx("div",{className:"bottom-[calc(50% - 2px)] absolute h-[1px] w-full border-b border-dashed"})}),e.jsxs("span",{className:"txt-small text-ui-fg-muted",children:[n.required_quantity,"x"]})]},n.inventory.id))})]})},zt=({orderReturn:s,itemId:t})=>{var n,r;const{t:i}=g(),a=(n=s==null?void 0:s.items)==null?void 0:n.find(o=>o.item_id===t),l=(a==null?void 0:a.damaged_quantity)||0;return a&&e.jsxs("div",{className:"txt-compact-small-plus text-ui-fg-subtle bg-ui-bg-subtle flex flex-row justify-between gap-y-2 border-t-2 border-dotted px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"text-ui-fg-muted"}),e.jsx(d,{size:"small",children:i("orders.returns.damagedItemsReturned",{quantity:l})}),(a==null?void 0:a.note)&&e.jsx(T,{content:a.note,children:e.jsx(ke,{className:"text-ui-tag-neutral-icon ml-1 inline"})}),(a==null?void 0:a.reason)&&e.jsx(K,{size:"2xsmall",className:"cursor-default select-none capitalize",rounded:"full",children:(r=a==null?void 0:a.reason)==null?void 0:r.label})]}),e.jsxs(d,{size:"small",leading:"compact",className:"text-ui-fg-muted",children:[i("orders.returns.damagedItemReceived"),e.jsx("span",{className:"ml-2",children:e.jsx(ee,{orderReturn:s})})]})]},s.id)},Ot=({orderReturn:s,itemId:t})=>{var o,u;const{t:i}=g(),{getRelativeDate:a}=Y();if(!["requested","received","partially_received"].includes(s.status||""))return null;const l=s.status==="requested",n=(o=s==null?void 0:s.items)==null?void 0:o.find(p=>p.item_id===t),r=(n==null?void 0:n.damaged_quantity)||0;return n&&e.jsxs(e.Fragment,{children:[r>0&&e.jsx(zt,{orderReturn:s,itemId:t}),e.jsxs("div",{className:"txt-compact-small-plus text-ui-fg-subtle bg-ui-bg-subtle flex flex-row justify-between gap-y-2 border-t-2 border-dotted px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"text-ui-fg-muted"}),e.jsx(d,{size:"small",children:i(`orders.returns.${l?"returnRequestedInfo":"returnReceivedInfo"}`,{requestedItemsCount:n==null?void 0:n[l?"quantity":"received_quantity"]})}),(n==null?void 0:n.note)&&e.jsx(T,{content:n.note,children:e.jsx(ke,{className:"text-ui-tag-neutral-icon ml-1 inline"})}),(n==null?void 0:n.reason)&&e.jsx(K,{size:"2xsmall",className:"cursor-default select-none capitalize",rounded:"full",children:(u=n==null?void 0:n.reason)==null?void 0:u.label})]}),s&&l&&e.jsxs(d,{size:"small",leading:"compact",className:"text-ui-fg-muted",children:[a(s.created_at),e.jsx("span",{className:"ml-2",children:e.jsx(ee,{orderReturn:s})})]}),s&&!l&&e.jsxs(d,{size:"small",leading:"compact",className:"text-ui-fg-muted",children:[i("orders.returns.itemReceived"),e.jsx("span",{className:"ml-2",children:e.jsx(ee,{orderReturn:s})})]})]},n.id)]})},kt=({claim:s,itemId:t})=>{const{t:i}=g(),{getRelativeDate:a}=Y(),l=s.additional_items.filter(n=>{var r;return((r=n.item)==null?void 0:r.id)===t});return!!l.length&&e.jsxs("div",{className:"txt-compact-small-plus text-ui-fg-subtle bg-ui-bg-subtle flex flex-row justify-between gap-y-2 border-b-2 border-t-2 border-dotted px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"text-ui-fg-muted"}),e.jsx(d,{size:"small",children:i("orders.claims.outboundItemAdded",{itemsCount:l.reduce((n,r)=>n=n+r.quantity,0)})})]}),e.jsx(d,{size:"small",leading:"compact",className:"text-ui-fg-muted",children:a(s.created_at)})]},s.id)},St=({exchange:s,itemId:t})=>{const{t:i}=g(),{getRelativeDate:a}=Y(),l=s.additional_items.filter(n=>{var r;return((r=n==null?void 0:n.item)==null?void 0:r.id)===t});return!!l.length&&e.jsxs("div",{className:"txt-compact-small-plus text-ui-fg-subtle bg-ui-bg-subtle flex flex-row justify-between gap-y-2 border-b-2 border-t-2 border-dotted px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"text-ui-fg-muted"}),e.jsx(d,{size:"small",children:i("orders.exchanges.outboundItemAdded",{itemsCount:l.reduce((n,r)=>n=n+r.quantity,0)})})]}),e.jsx(d,{size:"small",leading:"compact",className:"text-ui-fg-muted",children:a(s.created_at)})]},s.id)},qt=({order:s})=>{const{t}=g();return e.jsxs("div",{className:" flex flex-col gap-y-2 px-6 py-4",children:[e.jsxs("div",{className:"text-ui-fg-base flex items-center justify-between",children:[e.jsx(d,{weight:"plus",className:"text-ui-fg-subtle",size:"small",leading:"compact",children:t("fields.total")}),e.jsx(d,{weight:"plus",className:"text-ui-fg-subtle",size:"small",leading:"compact",children:q(s.total,s.currency_code)})]}),e.jsxs("div",{className:"text-ui-fg-base flex items-center justify-between",children:[e.jsx(d,{weight:"plus",className:"text-ui-fg-subtle",size:"small",leading:"compact",children:t("fields.paidTotal")}),e.jsx(d,{weight:"plus",className:"text-ui-fg-subtle",size:"small",leading:"compact",children:q(Ye(s.payment_collections||[]),s.currency_code)})]}),e.jsxs("div",{className:"text-ui-fg-base flex items-center justify-between",children:[e.jsx(d,{className:"text-ui-fg-subtle text-semibold",size:"small",leading:"compact",weight:"plus",children:t("orders.returns.outstandingAmount")}),e.jsx(d,{className:"text-ui-fg-subtle text-bold",size:"small",leading:"compact",weight:"plus",children:q(s.summary.pending_difference||0,s.currency_code)})]})]})},ua=()=>{const s=ts(),{id:t}=as(),{getWidgets:i}=is(),{order:a,isLoading:l,isError:n,error:r}=ns(t,{fields:_e},{initialData:s});a&&(a.items=a.items.sort((p,f)=>p.created_at>f.created_at?1:p.created_at<f.created_at?-1:0));const{order:o,isLoading:u}=te(t);if(l||!a||u)return e.jsx(ls,{mainSections:4,sidebarSections:2,showJSON:!0});if(n)throw r;return e.jsxs(X,{widgets:{after:i("order.details.after"),before:i("order.details.before"),sideAfter:i("order.details.side.after"),sideBefore:i("order.details.side.before")},data:a,showJSON:!0,hasOutlet:!0,children:[e.jsxs(X.Main,{children:[e.jsx(Rs,{order:a}),e.jsx(Ds,{orderPreview:o}),e.jsx(Fs,{orderPreview:o}),e.jsx(Bs,{orderPreview:o}),e.jsx(ot,{order:a}),e.jsx(yt,{order:a}),e.jsx(Ke,{order:a}),e.jsx(lt,{order:a})]}),e.jsxs(X.Sidebar,{children:[e.jsx(it,{order:a}),e.jsx(Zs,{order:a})]})]})};export{ua as Component,ma as loader};
