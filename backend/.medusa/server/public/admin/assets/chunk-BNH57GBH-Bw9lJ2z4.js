import{r as c,cr as to,j as T,bk as no,aD as xt,cs as ro,ct as oo,cu as so,cv as io,cw as uo,cx as ao,cy as co,cz as lo,b as fo,cA as vo,m as tt,T as bt,ak as mo}from"./index-Bq0Gzu_3.js";import{X as po}from"./x-mark-mini-B2FnFGkK.js";import{T as bo}from"./triangles-mini-CJVmoiLK.js";import{P as go}from"./plus-mini-D38qrUji.js";var ho=Object.defineProperty,xo=Object.defineProperties,So=Object.getOwnPropertyDescriptors,St=Object.getOwnPropertySymbols,Xn=Object.prototype.hasOwnProperty,Jn=Object.prototype.propertyIsEnumerable,xn=(e,t,r)=>t in e?ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,O=(e,t)=>{for(var r in t||(t={}))Xn.call(t,r)&&xn(e,r,t[r]);if(St)for(var r of St(t))Jn.call(t,r)&&xn(e,r,t[r]);return e},N=(e,t)=>xo(e,So(t)),Q=(e,t)=>{var r={};for(var n in e)Xn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&St)for(var n of St(e))t.indexOf(n)<0&&Jn.call(e,n)&&(r[n]=e[n]);return r},yo=Object.defineProperty,Eo=Object.defineProperties,Co=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable,Sn=(e,t,r)=>t in e?yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,re=(e,t)=>{for(var r in t||(t={}))Zn.call(t,r)&&Sn(e,r,t[r]);if(yt)for(var r of yt(t))Qn.call(t,r)&&Sn(e,r,t[r]);return e},Ee=(e,t)=>Eo(e,Co(t)),er=(e,t)=>{var r={};for(var n in e)Zn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&yt)for(var n of yt(e))t.indexOf(n)<0&&Qn.call(e,n)&&(r[n]=e[n]);return r};function ut(...e){}function wo(e,t){if(Po(e)){const r=Io(t)?t():t;return e(r)}return e}function Po(e){return typeof e=="function"}function Io(e){return typeof e=="function"}function je(e,t){return typeof Object.hasOwn=="function"?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function _e(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}function tr(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Oo(e,t){const r=re({},e);for(const n of t)je(r,n)&&delete r[n];return r}function Ao(e,t){const r={};for(const n of t)je(e,n)&&(r[n]=e[n]);return r}function nr(e){return e}function Oe(e,t){if(!e)throw typeof t!="string"?new Error("Invariant failed"):new Error(t)}function Do(e){return Object.keys(e)}function rr(e,...t){const r=typeof e=="function"?e(...t):e;return r==null?!1:!r}function Ut(e){return e.disabled||e["aria-disabled"]===!0||e["aria-disabled"]==="true"}function Ye(e){const t={};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function G(...e){for(const t of e)if(t!==void 0)return t}function Lt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function To(e){return!e||!c.isValidElement(e)?!1:"ref"in e.props||"ref"in e}function _o(e){return To(e)?O({},e.props).ref||e.ref:null}function Fo(e,t){const r=O({},e);for(const n in t){if(!je(t,n))continue;if(n==="className"){const s="className";r[s]=e[s]?`${e[s]} ${t[s]}`:t[s];continue}if(n==="style"){const s="style";r[s]=e[s]?O(O({},e[s]),t[s]):t[s];continue}const o=t[n];if(typeof o=="function"&&n.startsWith("on")){const s=e[n];if(typeof s=="function"){r[n]=(...i)=>{o(...i),s(...i)};continue}}r[n]=o}return r}var st=Ro();function Ro(){var e;return typeof window<"u"&&!!((e=window.document)!=null&&e.createElement)}function oe(e){return e?e.ownerDocument||e:document}function or(e){return oe(e).defaultView||window}function Be(e,t=!1){const{activeElement:r}=oe(e);if(!(r!=null&&r.nodeName))return null;if(qt(r)&&r.contentDocument)return Be(r.contentDocument.body,t);if(t){const n=r.getAttribute("aria-activedescendant");if(n){const o=oe(r).getElementById(n);if(o)return o}}return r}function be(e,t){return e===t||e.contains(t)}function qt(e){return e.tagName==="IFRAME"}function $e(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?ko.indexOf(e.type)!==-1:!1}var ko=["button","color","file","image","reset","submit"];function sr(e){if(typeof e.checkVisibility=="function")return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function He(e){try{const t=e instanceof HTMLInputElement&&e.selectionStart!==null,r=e.tagName==="TEXTAREA";return t||r||!1}catch{return!1}}function Nt(e){return e.isContentEditable||He(e)}function Mo(e){if(He(e))return e.value;if(e.isContentEditable){const t=oe(e).createRange();return t.selectNodeContents(e),t.toString()}return""}function jt(e){let t=0,r=0;if(He(e))t=e.selectionStart||0,r=e.selectionEnd||0;else if(e.isContentEditable){const n=oe(e).getSelection();if(n!=null&&n.rangeCount&&n.anchorNode&&be(e,n.anchorNode)&&n.focusNode&&be(e,n.focusNode)){const o=n.getRangeAt(0),s=o.cloneRange();s.selectNodeContents(e),s.setEnd(o.startContainer,o.startOffset),t=s.toString().length,s.setEnd(o.endContainer,o.endOffset),r=s.toString().length}}return{start:t,end:r}}function ir(e,t){const r=["dialog","menu","listbox","tree","grid"],n=e==null?void 0:e.getAttribute("role");return n&&r.indexOf(n)!==-1?n:t}function Yt(e){if(!e)return null;const t=r=>r==="auto"||r==="scroll";if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:r}=getComputedStyle(e);if(t(r))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:r}=getComputedStyle(e);if(t(r))return e}return Yt(e.parentElement)||document.scrollingElement||document.body}function _t(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function ur(){return st&&!!navigator.maxTouchPoints}function Gt(){return st?/mac|iphone|ipad|ipod/i.test(navigator.platform):!1}function wt(){return st&&Gt()&&/apple/i.test(navigator.vendor)}function Vo(){return st&&/firefox\//i.test(navigator.userAgent)}function Lo(){return st&&navigator.platform.startsWith("Mac")&&!ur()}function ar(e){return!!(e.currentTarget&&!be(e.currentTarget,e.target))}function Te(e){return e.target===e.currentTarget}function No(e){const t=e.currentTarget;if(!t)return!1;const r=Gt();if(r&&!e.metaKey||!r&&!e.ctrlKey)return!1;const n=t.tagName.toLowerCase();return n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit"}function jo(e){const t=e.currentTarget;if(!t)return!1;const r=t.tagName.toLowerCase();return e.altKey?r==="a"||r==="button"&&t.type==="submit"||r==="input"&&t.type==="submit":!1}function nt(e,t){const r=new FocusEvent("blur",t),n=e.dispatchEvent(r),o=Ee(re({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",o)),n}function $o(e,t,r){const n=new KeyboardEvent(t,r);return e.dispatchEvent(n)}function yn(e,t){const r=new MouseEvent("click",t);return e.dispatchEvent(r)}function Xe(e,t){const r=t||e.currentTarget,n=e.relatedTarget;return!n||!be(r,n)}function rt(e,t,r,n){const s=(u=>{const a=requestAnimationFrame(u);return()=>cancelAnimationFrame(a)})(()=>{e.removeEventListener(t,i,!0),r()}),i=()=>{s(),r()};return e.addEventListener(t,i,{once:!0,capture:!0}),s}function Re(e,t,r,n=window){const o=[];try{n.document.addEventListener(e,t,r);for(const i of Array.from(n.frames))o.push(Re(e,t,r,i))}catch{}return()=>{try{n.document.removeEventListener(e,t,r)}catch{}for(const i of o)i()}}var Xt=O({},to),En=Xt.useId;Xt.useDeferredValue;var Cn=Xt.useInsertionEffect,J=st?c.useLayoutEffect:c.useEffect;function Ko(e){const[t]=c.useState(e);return t}function Bo(e){const t=c.useRef(e);return J(()=>{t.current=e}),t}function W(e){const t=c.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return Cn?Cn(()=>{t.current=e}):t.current=e,c.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Ho(e){const[t,r]=c.useState(null);return J(()=>{if(t==null||!e)return;let n=null;return e(o=>(n=o,t)),()=>{e(n)}},[t,e]),[t,r]}function xe(...e){return c.useMemo(()=>{if(e.some(Boolean))return t=>{for(const r of e)Lt(r,t)}},e)}function it(e){if(En){const n=En();return e||n}const[t,r]=c.useState(e);return J(()=>{if(e||t)return;const n=Math.random().toString(36).substr(2,6);r(`id-${n}`)},[e,t]),e||t}function Jt(e,t){const r=s=>{if(typeof s=="string")return s},[n,o]=c.useState(()=>r(t));return J(()=>{const s=e&&"current"in e?e.current:e;o((s==null?void 0:s.tagName.toLowerCase())||r(t))},[e,t]),n}function zo(e,t,r){const n=Ko(r),[o,s]=c.useState(n);return c.useEffect(()=>{const i=e&&"current"in e?e.current:e;if(!i)return;const u=()=>{const f=i.getAttribute(t);s(f??n)},a=new MutationObserver(u);return a.observe(i,{attributeFilter:[t]}),u(),()=>a.disconnect()},[e,t,n]),o}function ct(e,t){const r=c.useRef(!1);c.useEffect(()=>{if(r.current)return e();r.current=!0},t),c.useEffect(()=>()=>{r.current=!1},[])}function Wo(e,t){const r=c.useRef(!1);J(()=>{if(r.current)return e();r.current=!0},t),J(()=>()=>{r.current=!1},[])}function cr(){return c.useReducer(()=>[],[])}function ue(e){return W(typeof e=="function"?e:()=>e)}function Ie(e,t,r=[]){const n=c.useCallback(o=>(e.wrapElement&&(o=e.wrapElement(o)),t(o)),[...r,e.wrapElement]);return N(O({},e),{wrapElement:n})}function lr(e=!1,t){const[r,n]=c.useState(null);return{portalRef:xe(n,t),portalNode:r,domReady:!e||r}}function fr(e,t,r){const n=e.onLoadedMetadataCapture,o=c.useMemo(()=>Object.assign(()=>{},N(O({},n),{[t]:r})),[n,t,r]);return[n==null?void 0:n[t],{onLoadedMetadataCapture:o}]}function Uo(){return c.useEffect(()=>{Re("mousemove",Yo,!0),Re("mousedown",gt,!0),Re("mouseup",gt,!0),Re("keydown",gt,!0),Re("scroll",gt,!0)},[]),W(()=>Zt)}var Zt=!1,wn=0,Pn=0;function qo(e){const t=e.movementX||e.screenX-wn,r=e.movementY||e.screenY-Pn;return wn=e.screenX,Pn=e.screenY,t||r||!1}function Yo(e){qo(e)&&(Zt=!0)}function gt(){Zt=!1}function Z(e){const t=c.forwardRef((r,n)=>e(N(O({},r),{ref:n})));return t.displayName=e.displayName||e.name,t}function Qt(e,t){return c.memo(e,t)}function ee(e,t){const r=t,{wrapElement:n,render:o}=r,s=Q(r,["wrapElement","render"]),i=xe(t.ref,_o(o));let u;if(c.isValidElement(o)){const a=N(O({},o.props),{ref:i});u=c.cloneElement(o,Fo(s,a))}else o?u=o(s):u=T.jsx(e,O({},s));return n?n(u):u}function te(e){const t=(r={})=>e(r);return t.displayName=e.name,t}function Qe(e=[],t=[]){const r=c.createContext(void 0),n=c.createContext(void 0),o=()=>c.useContext(r),s=(f=!1)=>{const m=c.useContext(n),p=o();return f?m:m||p},i=()=>{const f=c.useContext(n),m=o();if(!(f&&f===m))return m},u=f=>e.reduceRight((m,p)=>T.jsx(p,N(O({},f),{children:m})),T.jsx(r.Provider,O({},f)));return{context:r,scopedContext:n,useContext:o,useScopedContext:s,useProviderContext:i,ContextProvider:u,ScopedContextProvider:f=>T.jsx(u,N(O({},f),{children:t.reduceRight((m,p)=>T.jsx(p,N(O({},f),{children:m})),T.jsx(n.Provider,O({},f)))}))}}var lt=Qe(),Go=lt.useContext;lt.useScopedContext;lt.useProviderContext;var Xo=lt.ContextProvider,Jo=lt.ScopedContextProvider,ft=Qe([Xo],[Jo]),dr=ft.useContext;ft.useScopedContext;var Zo=ft.useProviderContext,en=ft.ContextProvider,vr=ft.ScopedContextProvider,Qo=c.createContext(void 0),es=c.createContext(void 0);c.createContext(null);c.createContext(null);var ts=Qe([en],[vr]),ns=ts.useContext;function et(e,t){const r=e.__unstableInternals;return Oe(r,"Invalid store"),r[t]}function Ke(e,...t){let r=e,n=r,o=Symbol(),s=ut;const i=new Set,u=new Set,a=new Set,f=new Set,m=new Set,p=new WeakMap,l=new WeakMap,y=R=>(a.add(R),()=>a.delete(R)),g=()=>{const R=i.size,S=Symbol();i.add(S);const V=()=>{i.delete(S),!i.size&&s()};if(R)return V;const B=Do(r).map(C=>_e(...t.map(M=>{var E;const k=(E=M==null?void 0:M.getState)==null?void 0:E.call(M);if(k&&je(k,C))return Pe(M,[C],$=>{w(C,$[C],!0)})}))),H=[];for(const C of a)H.push(C());const d=t.map(tn);return s=_e(...B,...H,...d),V},x=(R,S,V=f)=>(V.add(S),l.set(S,R),()=>{var B;(B=p.get(S))==null||B(),p.delete(S),l.delete(S),V.delete(S)}),_=(R,S)=>x(R,S),P=(R,S)=>(p.set(S,S(r,r)),x(R,S)),A=(R,S)=>(p.set(S,S(r,n)),x(R,S,m)),D=R=>Ke(Ao(r,R),I),v=R=>Ke(Oo(r,R),I),b=()=>r,w=(R,S,V=!1)=>{var B;if(!je(r,R))return;const H=wo(S,r[R]);if(H===r[R])return;if(!V)for(const E of t)(B=E==null?void 0:E.setState)==null||B.call(E,R,H);const d=r;r=Ee(re({},r),{[R]:H});const C=Symbol();o=C,u.add(R);const M=(E,k,$)=>{var h;const K=l.get(E),z=X=>$?$.has(X):X===R;(!K||K.some(z))&&((h=p.get(E))==null||h(),p.set(E,E(r,k)))};for(const E of f)M(E,d);queueMicrotask(()=>{if(o!==C)return;const E=r;for(const k of m)M(k,n,u);n=E,u.clear()})},I={getState:b,setState:w,__unstableInternals:{setup:y,init:g,subscribe:_,sync:P,batch:A,pick:D,omit:v}};return I}function we(e,...t){if(e)return et(e,"setup")(...t)}function tn(e,...t){if(e)return et(e,"init")(...t)}function mr(e,...t){if(e)return et(e,"subscribe")(...t)}function Pe(e,...t){if(e)return et(e,"sync")(...t)}function Et(e,...t){if(e)return et(e,"batch")(...t)}function pr(e,...t){if(e)return et(e,"omit")(...t)}function rs(e,...t){if(e)return et(e,"pick")(...t)}function nn(...e){const t=e.reduce((n,o)=>{var s;const i=(s=o==null?void 0:o.getState)==null?void 0:s.call(o);return i?Object.assign(n,i):n},{});return Ke(t,...e)}function Pt(e,t){if(!t)return;const r=Object.entries(e).filter(([s,i])=>s.startsWith("default")&&i!==void 0).map(([s])=>{var i;const u=s.replace("default","");return`${((i=u[0])==null?void 0:i.toLowerCase())||""}${u.slice(1)}`});if(!r.length)return;const n=t.getState();if(r.filter(s=>je(n,s)).length)throw new Error(`Passing a store prop in conjunction with a default state is not supported.

const store = useSelectStore();
<SelectProvider store={store} defaultValue="Apple" />
                ^             ^

Instead, pass the default state to the topmost store:

const store = useSelectStore({ defaultValue: "Apple" });
<SelectProvider store={store} />

See https://github.com/ariakit/ariakit/pull/2745 for more details.

If there's a particular need for this, please submit a feature request at https://github.com/ariakit/ariakit
`)}var br={exports:{}},gr={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=c,t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function r(D){{for(var v=arguments.length,b=new Array(v>1?v-1:0),w=1;w<v;w++)b[w-1]=arguments[w];n("error",D,b)}}function n(D,v,b){{var w=t.ReactDebugCurrentFrame,I=w.getStackAddendum();I!==""&&(v+="%s",b=b.concat([I]));var R=b.map(function(S){return String(S)});R.unshift("Warning: "+v),Function.prototype.apply.call(console[D],console,R)}}function o(D,v){return D===v&&(D!==0||1/D===1/v)||D!==D&&v!==v}var s=typeof Object.is=="function"?Object.is:o,i=e.useState,u=e.useEffect,a=e.useLayoutEffect,f=e.useDebugValue,m=!1,p=!1;function l(D,v,b){m||e.startTransition!==void 0&&(m=!0,r("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var w=v();if(!p){var I=v();s(w,I)||(r("The result of getSnapshot should be cached to avoid an infinite loop"),p=!0)}var R=i({inst:{value:w,getSnapshot:v}}),S=R[0].inst,V=R[1];return a(function(){S.value=w,S.getSnapshot=v,y(S)&&V({inst:S})},[D,w,v]),u(function(){y(S)&&V({inst:S});var B=function(){y(S)&&V({inst:S})};return D(B)},[D]),f(w),w}function y(D){var v=D.getSnapshot,b=D.value;try{var w=v();return!s(b,w)}catch{return!0}}function g(D,v,b){return v()}var x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_=!x,P=_?g:l,A=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:P;gr.useSyncExternalStore=A,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();br.exports=gr;var os=br.exports;const ss=no(os);var{useSyncExternalStore:is}=ss,us=()=>()=>{};function le(e,t=nr){const r=c.useCallback(o=>e?mr(e,null,o):us(),[e]),n=()=>{const o=typeof t=="string"?t:null,s=typeof t=="function"?t:null,i=e==null?void 0:e.getState();if(s)return s(i);if(i&&o&&je(i,o))return i[o]};return is(r,n,n)}function pe(e,t,r,n){const o=je(t,r)?t[r]:void 0,s=n?t[n]:void 0,i=Bo({value:o,setValue:s});J(()=>Pe(e,[r],(u,a)=>{const{value:f,setValue:m}=i.current;m&&u[r]!==a[r]&&u[r]!==f&&m(u[r])}),[e,r]),J(()=>{if(o!==void 0)return e.setState(r,o),Et(e,[r],()=>{o!==void 0&&e.setState(r,o)})})}function rn(e,t){const[r,n]=c.useState(()=>e(t));J(()=>tn(r),[r]);const o=c.useCallback(u=>le(r,u),[r]),s=c.useMemo(()=>N(O({},r),{useState:o}),[r,o]),i=W(()=>{n(u=>e(O(O({},t),u.getState())))});return[s,i]}function as(e,t){return!!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}function cs(e){const t=e.map((n,o)=>[o,n]);let r=!1;return t.sort(([n,o],[s,i])=>{const u=o.element,a=i.element;return u===a||!u||!a?0:as(u,a)?(n>s&&(r=!0),-1):(n<s&&(r=!0),1)}),r?t.map(([n,o])=>o):e}function ls(e){var t;const r=e.find(s=>!!s.element),n=[...e].reverse().find(s=>!!s.element);let o=(t=r==null?void 0:r.element)==null?void 0:t.parentElement;for(;o&&(n!=null&&n.element);){if(n&&o.contains(n.element))return o;o=o.parentElement}return oe(o).body}function fs(e){return e==null?void 0:e.__unstablePrivateStore}function ds(e={}){var t;Pt(e,e.store);const r=(t=e.store)==null?void 0:t.getState(),n=G(e.items,r==null?void 0:r.items,e.defaultItems,[]),o=new Map(n.map(l=>[l.id,l])),s={items:n,renderedItems:G(r==null?void 0:r.renderedItems,[])},i=fs(e.store),u=Ke({items:n,renderedItems:s.renderedItems},i),a=Ke(s,e.store),f=l=>{const y=cs(l);u.setState("renderedItems",y),a.setState("renderedItems",y)};we(a,()=>tn(u)),we(u,()=>Et(u,["items"],l=>{a.setState("items",l.items)})),we(u,()=>Et(u,["renderedItems"],l=>{let y=!0,g=requestAnimationFrame(()=>{const{renderedItems:A}=a.getState();l.renderedItems!==A&&f(l.renderedItems)});if(typeof IntersectionObserver!="function")return()=>cancelAnimationFrame(g);const x=()=>{if(y){y=!1;return}cancelAnimationFrame(g),g=requestAnimationFrame(()=>f(l.renderedItems))},_=ls(l.renderedItems),P=new IntersectionObserver(x,{root:_});for(const A of l.renderedItems)A.element&&P.observe(A.element);return()=>{cancelAnimationFrame(g),P.disconnect()}}));const m=(l,y,g=!1)=>{let x;return y(P=>{const A=P.findIndex(({id:v})=>v===l.id),D=P.slice();if(A!==-1){x=P[A];const v=re(re({},x),l);D[A]=v,o.set(l.id,v)}else D.push(l),o.set(l.id,l);return D}),()=>{y(P=>{if(!x)return g&&o.delete(l.id),P.filter(({id:v})=>v!==l.id);const A=P.findIndex(({id:v})=>v===l.id);if(A===-1)return P;const D=P.slice();return D[A]=x,o.set(l.id,x),D})}},p=l=>m(l,y=>u.setState("items",y),!0);return Ee(re({},a),{registerItem:p,renderItem:l=>_e(p(l),m(l,y=>u.setState("renderedItems",y))),item:l=>{if(!l)return null;let y=o.get(l);if(!y){const{items:g}=a.getState();y=g.find(x=>x.id===l),y&&o.set(l,y)}return y||null},__unstablePrivateStore:u})}function vs(e,t,r){return ct(t,[r.store]),pe(e,r,"items","setItems"),e}function ms(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}function hr(e){const t=[];for(const r of e)t.push(...r);return t}function $t(e){return e.slice().reverse()}var ps={id:null};function Ne(e,t){return e.find(r=>t?!r.disabled&&r.id!==t:!r.disabled)}function bs(e,t){return e.filter(r=>t?!r.disabled&&r.id!==t:!r.disabled)}function In(e,t){return e.filter(r=>r.rowId===t)}function gs(e,t,r=!1){const n=e.findIndex(o=>o.id===t);return[...e.slice(n+1),...r?[ps]:[],...e.slice(0,n)]}function xr(e){const t=[];for(const r of e){const n=t.find(o=>{var s;return((s=o[0])==null?void 0:s.rowId)===r.rowId});n?n.push(r):t.push([r])}return t}function Sr(e){let t=0;for(const{length:r}of e)r>t&&(t=r);return t}function hs(e){return{id:"__EMPTY_ITEM__",disabled:!0,rowId:e}}function xs(e,t,r){const n=Sr(e);for(const o of e)for(let s=0;s<n;s+=1){const i=o[s];if(!i||r&&i.disabled){const a=s===0&&r?Ne(o):o[s-1];o[s]=a&&t!==a.id&&r?a:hs(a==null?void 0:a.rowId)}}return e}function Ss(e){const t=xr(e),r=Sr(t),n=[];for(let o=0;o<r;o+=1)for(const s of t){const i=s[o];i&&n.push(Ee(re({},i),{rowId:i.rowId?`${o}`:void 0}))}return n}function ys(e={}){var t;const r=(t=e.store)==null?void 0:t.getState(),n=ds(e),o=G(e.activeId,r==null?void 0:r.activeId,e.defaultActiveId),s=Ee(re({},n.getState()),{activeId:o,baseElement:G(r==null?void 0:r.baseElement,null),includesBaseElement:G(e.includesBaseElement,r==null?void 0:r.includesBaseElement,o===null),moves:G(r==null?void 0:r.moves,0),orientation:G(e.orientation,r==null?void 0:r.orientation,"both"),rtl:G(e.rtl,r==null?void 0:r.rtl,!1),virtualFocus:G(e.virtualFocus,r==null?void 0:r.virtualFocus,!1),focusLoop:G(e.focusLoop,r==null?void 0:r.focusLoop,!1),focusWrap:G(e.focusWrap,r==null?void 0:r.focusWrap,!1),focusShift:G(e.focusShift,r==null?void 0:r.focusShift,!1)}),i=Ke(s,n,e.store);we(i,()=>Pe(i,["renderedItems","activeId"],a=>{i.setState("activeId",f=>{var m;return f!==void 0?f:(m=Ne(a.renderedItems))==null?void 0:m.id})}));const u=(a="next",f={})=>{var m,p;const l=i.getState(),{skip:y=0,activeId:g=l.activeId,focusShift:x=l.focusShift,focusLoop:_=l.focusLoop,focusWrap:P=l.focusWrap,includesBaseElement:A=l.includesBaseElement,renderedItems:D=l.renderedItems,rtl:v=l.rtl}=f,b=a==="up"||a==="down",w=a==="next"||a==="down",I=w?v&&!b:!v||b,R=x&&!y;let S=b?hr(xs(xr(D),g,R)):D;if(S=I?$t(S):S,S=b?Ss(S):S,g==null)return(m=Ne(S))==null?void 0:m.id;const V=S.find(h=>h.id===g);if(!V)return(p=Ne(S))==null?void 0:p.id;const B=S.some(h=>h.rowId),H=S.indexOf(V),d=S.slice(H+1),C=In(d,V.rowId);if(y){const h=bs(C,g),K=h.slice(y)[0]||h[h.length-1];return K==null?void 0:K.id}const M=_&&(b?_!=="horizontal":_!=="vertical"),E=B&&P&&(b?P!=="horizontal":P!=="vertical"),k=w?(!B||b)&&M&&A:b?A:!1;if(M){const h=E&&!k?S:In(S,V.rowId),K=gs(h,g,k),z=Ne(K,g);return z==null?void 0:z.id}if(E){const h=Ne(k?C:d,g);return k?(h==null?void 0:h.id)||null:h==null?void 0:h.id}const $=Ne(C,g);return!$&&k?null:$==null?void 0:$.id};return Ee(re(re({},n),i),{setBaseElement:a=>i.setState("baseElement",a),setActiveId:a=>i.setState("activeId",a),move:a=>{a!==void 0&&(i.setState("activeId",a),i.setState("moves",f=>f+1))},first:()=>{var a;return(a=Ne(i.getState().renderedItems))==null?void 0:a.id},last:()=>{var a;return(a=Ne($t(i.getState().renderedItems)))==null?void 0:a.id},next:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("next",a)),previous:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("previous",a)),down:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("down",a)),up:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("up",a))})}function Es(e,t,r){return e=vs(e,t,r),pe(e,r,"activeId","setActiveId"),pe(e,r,"includesBaseElement"),pe(e,r,"virtualFocus"),pe(e,r,"orientation"),pe(e,r,"rtl"),pe(e,r,"focusLoop"),pe(e,r,"focusWrap"),pe(e,r,"focusShift"),e}function yr(e={}){const t=nn(e.store,pr(e.disclosure,["contentElement","disclosureElement"]));Pt(e,t);const r=t==null?void 0:t.getState(),n=G(e.open,r==null?void 0:r.open,e.defaultOpen,!1),o=G(e.animated,r==null?void 0:r.animated,!1),s={open:n,animated:o,animating:!!o&&n,mounted:n,contentElement:G(r==null?void 0:r.contentElement,null),disclosureElement:G(r==null?void 0:r.disclosureElement,null)},i=Ke(s,t);return we(i,()=>Pe(i,["animated","animating"],u=>{u.animated||i.setState("animating",!1)})),we(i,()=>mr(i,["open"],()=>{i.getState().animated&&i.setState("animating",!0)})),we(i,()=>Pe(i,["open","animating"],u=>{i.setState("mounted",u.open||u.animating)})),Ee(re({},i),{disclosure:e.disclosure,setOpen:u=>i.setState("open",u),show:()=>i.setState("open",!0),hide:()=>i.setState("open",!1),toggle:()=>i.setState("open",u=>!u),stopAnimation:()=>i.setState("animating",!1),setContentElement:u=>i.setState("contentElement",u),setDisclosureElement:u=>i.setState("disclosureElement",u)})}function Er(e,t,r){return ct(t,[r.store,r.disclosure]),pe(e,r,"open","setOpen"),pe(e,r,"mounted","setMounted"),pe(e,r,"animated"),Object.assign(e,{disclosure:r.disclosure})}function Cs(e={}){const[t,r]=rn(yr,e);return Er(t,r,e)}function Cr(e={}){return yr(e)}function wr(e,t,r){return Er(e,t,r)}function ws(e={}){const[t,r]=rn(Cr,e);return wr(t,r,e)}function Ps(e={}){var t=e,{popover:r}=t,n=er(t,["popover"]);const o=nn(n.store,pr(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"]));Pt(n,o);const s=o==null?void 0:o.getState(),i=Cr(Ee(re({},n),{store:o})),u=G(n.placement,s==null?void 0:s.placement,"bottom"),a=Ee(re({},i.getState()),{placement:u,currentPlacement:u,anchorElement:G(s==null?void 0:s.anchorElement,null),popoverElement:G(s==null?void 0:s.popoverElement,null),arrowElement:G(s==null?void 0:s.arrowElement,null),rendered:Symbol("rendered")}),f=Ke(a,i,o);return Ee(re(re({},i),f),{setAnchorElement:m=>f.setState("anchorElement",m),setPopoverElement:m=>f.setState("popoverElement",m),setArrowElement:m=>f.setState("arrowElement",m),render:()=>f.setState("rendered",Symbol("rendered"))})}function Is(e,t,r){return ct(t,[r.popover]),pe(e,r,"placement"),wr(e,t,r)}var Os=wt()&&ur();function As(e={}){var t=e,{tag:r}=t,n=er(t,["tag"]);const o=nn(n.store,rs(r,["value","rtl"]));Pt(n,o);const s=r==null?void 0:r.getState(),i=o==null?void 0:o.getState(),u=G(n.activeId,i==null?void 0:i.activeId,n.defaultActiveId,null),a=ys(Ee(re({},n),{activeId:u,includesBaseElement:G(n.includesBaseElement,i==null?void 0:i.includesBaseElement,!0),orientation:G(n.orientation,i==null?void 0:i.orientation,"vertical"),focusLoop:G(n.focusLoop,i==null?void 0:i.focusLoop,!0),focusWrap:G(n.focusWrap,i==null?void 0:i.focusWrap,!0),virtualFocus:G(n.virtualFocus,i==null?void 0:i.virtualFocus,!0)})),f=Ps(Ee(re({},n),{placement:G(n.placement,i==null?void 0:i.placement,"bottom-start")})),m=G(n.value,i==null?void 0:i.value,n.defaultValue,""),p=G(n.selectedValue,i==null?void 0:i.selectedValue,s==null?void 0:s.values,n.defaultSelectedValue,""),l=Array.isArray(p),y=Ee(re(re({},a.getState()),f.getState()),{value:m,selectedValue:p,resetValueOnSelect:G(n.resetValueOnSelect,i==null?void 0:i.resetValueOnSelect,l),resetValueOnHide:G(n.resetValueOnHide,i==null?void 0:i.resetValueOnHide,l&&!r),activeValue:i==null?void 0:i.activeValue}),g=Ke(y,a,f,o);return Os&&we(g,()=>Pe(g,["virtualFocus"],()=>{g.setState("virtualFocus",!1)})),we(g,()=>{if(r)return _e(Pe(g,["selectedValue"],x=>{Array.isArray(x.selectedValue)&&r.setValues(x.selectedValue)}),Pe(r,["values"],x=>{g.setState("selectedValue",x.values)}))}),we(g,()=>Pe(g,["resetValueOnHide","mounted"],x=>{x.resetValueOnHide&&(x.mounted||g.setState("value",m))})),we(g,()=>Pe(g,["open"],x=>{x.open||(g.setState("activeId",u),g.setState("moves",0))})),we(g,()=>Pe(g,["moves","activeId"],(x,_)=>{x.moves===_.moves&&g.setState("activeValue",void 0)})),we(g,()=>Et(g,["moves","renderedItems"],(x,_)=>{if(x.moves===_.moves)return;const{activeId:P}=g.getState(),A=a.item(P);g.setState("activeValue",A==null?void 0:A.value)})),Ee(re(re(re({},f),a),g),{tag:r,setValue:x=>g.setState("value",x),resetValue:()=>g.setState("value",y.value),setSelectedValue:x=>g.setState("selectedValue",x)})}function Ds(e,t,r){return ct(t,[r.tag]),pe(e,r,"value","setValue"),pe(e,r,"selectedValue","setSelectedValue"),pe(e,r,"resetValueOnHide"),pe(e,r,"resetValueOnSelect"),Object.assign(Es(Is(e,t,r),t,r),{tag:r.tag})}function Ts(e={}){const t=ns();e=N(O({},e),{tag:e.tag!==void 0?e.tag:t});const[r,n]=rn(As,e);return Ds(r,n,e)}var dt=Qe();dt.useContext;dt.useScopedContext;var on=dt.useProviderContext,_s=dt.ContextProvider,Fs=dt.ScopedContextProvider,sn=Qe([_s],[Fs]),It=sn.useProviderContext,Rs=sn.ContextProvider,un=sn.ScopedContextProvider,ks=c.createContext(void 0),Ms=c.createContext(void 0),vt=Qe([Rs],[un]);vt.useContext;vt.useScopedContext;var an=vt.useProviderContext,Vs=vt.ContextProvider,Pr=vt.ScopedContextProvider,Ir=c.createContext(void 0),mt=Qe([Vs,en],[Pr,vr]),Ls=mt.useContext,cn=mt.useScopedContext,Ot=mt.useProviderContext,Ns=mt.ContextProvider,js=mt.ScopedContextProvider,Or=c.createContext(void 0),Ar=c.createContext(!1),$s="div",Dr=te(function(t){var r=t,{store:n}=r,o=Q(r,["store"]);const s=an();return n=n||s,o=N(O({},o),{ref:xe(n==null?void 0:n.setAnchorElement,o.ref)}),o});Z(function(t){const r=Dr(t);return ee($s,r)});function Ks(e,t){return e.find(r=>!r.disabled)}function qe(e,t){return t&&e.item(t)||null}function Bs(e){const t=[];for(const r of e){const n=t.find(o=>{var s;return((s=o[0])==null?void 0:s.rowId)===r.rowId});n?n.push(r):t.push([r])}return t}function Hs(e,t=!1){if(He(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const r=oe(e).getSelection();r==null||r.selectAllChildren(e),t&&(r==null||r.collapseToEnd())}}var Kt=Symbol("FOCUS_SILENTLY");function zs(e){e[Kt]=!0,e.focus({preventScroll:!0})}function Ws(e){const t=e[Kt];return delete e[Kt],t}function at(e,t,r){return!(!t||t===r||!e.item(t.id))}var Tr=c.createContext(!0),At="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function Us(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}function ke(e){return!(!e.matches(At)||!sr(e)||e.closest("[inert]"))}function Ct(e){if(!ke(e)||Us(e))return!1;if(!("form"in e)||!e.form||e.checked||e.type!=="radio")return!0;const t=e.form.elements.namedItem(e.name);if(!t||!("length"in t))return!0;const r=Be(e);return!r||r===e||!("form"in r)||r.form!==e.form||r.name!==e.name}function ln(e,t){const r=Array.from(e.querySelectorAll(At));t&&r.unshift(e);const n=r.filter(ke);return n.forEach((o,s)=>{if(qt(o)&&o.contentDocument){const i=o.contentDocument.body;n.splice(s,1,...ln(i))}}),n}function Dt(e,t,r){const n=Array.from(e.querySelectorAll(At)),o=n.filter(Ct);return t&&Ct(e)&&o.unshift(e),o.forEach((s,i)=>{if(qt(s)&&s.contentDocument){const u=s.contentDocument.body,a=Dt(u,!1,r);o.splice(i,1,...a)}}),!o.length&&r?n:o}function qs(e,t,r){const[n]=Dt(e,t,r);return n||null}function Ys(e,t,r,n){const o=Be(e),s=ln(e,t),i=s.indexOf(o);return s.slice(i+1).find(Ct)||null||null||null}function Ft(e,t){return Ys(document.body,!1)}function Gs(e,t,r,n){const o=Be(e),s=ln(e,t).reverse(),i=s.indexOf(o);return s.slice(i+1).find(Ct)||null||null||null}function On(e,t){return Gs(document.body,!1)}function Xs(e){for(;e&&!ke(e);)e=e.closest(At);return e||null}function Je(e){const t=Be(e);if(!t)return!1;if(t===e)return!0;const r=t.getAttribute("aria-activedescendant");return r?r===e.id:!1}function _r(e){const t=Be(e);if(!t)return!1;if(be(e,t))return!0;const r=t.getAttribute("aria-activedescendant");return!r||!("id"in e)?!1:r===e.id?!0:!!e.querySelector(`#${CSS.escape(r)}`)}function Fr(e){!_r(e)&&ke(e)&&e.focus()}function Js(e){var t;const r=(t=e.getAttribute("tabindex"))!=null?t:"";e.setAttribute("data-tabindex",r),e.setAttribute("tabindex","-1")}function Zs(e,t){const r=Dt(e,t);for(const n of r)Js(n)}function Qs(e){const t=e.querySelectorAll("[data-tabindex]"),r=n=>{const o=n.getAttribute("data-tabindex");n.removeAttribute("data-tabindex"),o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")};e.hasAttribute("data-tabindex")&&r(e);for(const n of t)r(n)}function ei(e,t){"scrollIntoView"in e?(e.focus({preventScroll:!0}),e.scrollIntoView(re({block:"nearest",inline:"nearest"},t))):e.focus()}var ti="div",An=wt(),ni=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],Rr=Symbol("safariFocusAncestor");function ri(e){return e?!!e[Rr]:!1}function Dn(e,t){e&&(e[Rr]=t)}function oi(e){const{tagName:t,readOnly:r,type:n}=e;return t==="TEXTAREA"&&!r||t==="SELECT"&&!r?!0:t==="INPUT"&&!r?ni.includes(n):!!(e.isContentEditable||e.getAttribute("role")==="combobox"&&e.dataset.name)}function si(e){return"labels"in e?e.labels:null}function Tn(e){return e.tagName.toLowerCase()==="input"&&e.type?e.type==="radio"||e.type==="checkbox":!1}function ii(e){return e?e==="button"||e==="summary"||e==="input"||e==="select"||e==="textarea"||e==="a":!0}function ui(e){return e?e==="button"||e==="input"||e==="select"||e==="textarea":!0}function ai(e,t,r,n,o){return e?t?r&&!n?-1:void 0:r?o:o||0:o}function Rt(e,t){return W(r=>{e==null||e(r),!r.defaultPrevented&&t&&(r.stopPropagation(),r.preventDefault())})}var fn=!0;function ci(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(fn=!1))}function li(e){e.metaKey||e.ctrlKey||e.altKey||(fn=!0)}var Tt=te(function(t){var r=t,{focusable:n=!0,accessibleWhenDisabled:o,autoFocus:s,onFocusVisible:i}=r,u=Q(r,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const a=c.useRef(null);c.useEffect(()=>{n&&(Re("mousedown",ci,!0),Re("keydown",li,!0))},[n]),An&&c.useEffect(()=>{if(!n)return;const E=a.current;if(!E||!Tn(E))return;const k=si(E);if(!k)return;const $=()=>queueMicrotask(()=>E.focus());for(const h of k)h.addEventListener("mouseup",$);return()=>{for(const h of k)h.removeEventListener("mouseup",$)}},[n]);const f=n&&Ut(u),m=!!f&&!o,[p,l]=c.useState(!1);c.useEffect(()=>{n&&m&&p&&l(!1)},[n,m,p]),c.useEffect(()=>{if(!n||!p)return;const E=a.current;if(!E||typeof IntersectionObserver>"u")return;const k=new IntersectionObserver(()=>{ke(E)||l(!1)});return k.observe(E),()=>k.disconnect()},[n,p]);const y=Rt(u.onKeyPressCapture,f),g=Rt(u.onMouseDownCapture,f),x=Rt(u.onClickCapture,f),_=u.onMouseDown,P=W(E=>{if(_==null||_(E),E.defaultPrevented||!n)return;const k=E.currentTarget;if(!An||ar(E)||!$e(k)&&!Tn(k))return;let $=!1;const h=()=>{$=!0},K={capture:!0,once:!0};k.addEventListener("focusin",h,K);const z=Xs(k.parentElement);Dn(z,!0),rt(k,"mouseup",()=>{k.removeEventListener("focusin",h,!0),Dn(z,!1),!$&&Fr(k)})}),A=(E,k)=>{if(k&&(E.currentTarget=k),!n)return;const $=E.currentTarget;$&&Je($)&&(i==null||i(E),!E.defaultPrevented&&($.dataset.focusVisible="true",l(!0)))},D=u.onKeyDownCapture,v=W(E=>{if(D==null||D(E),E.defaultPrevented||!n||p||E.metaKey||E.altKey||E.ctrlKey||!Te(E))return;const k=E.currentTarget;rt(k,"focusout",()=>A(E,k))}),b=u.onFocusCapture,w=W(E=>{if(b==null||b(E),E.defaultPrevented||!n)return;if(!Te(E)){l(!1);return}const k=E.currentTarget,$=()=>A(E,k);fn||oi(E.target)?rt(E.target,"focusout",$):l(!1)}),I=u.onBlur,R=W(E=>{I==null||I(E),n&&Xe(E)&&l(!1)}),S=c.useContext(Tr),V=W(E=>{n&&s&&E&&S&&queueMicrotask(()=>{Je(E)||ke(E)&&E.focus()})}),B=Jt(a),H=n&&ii(B),d=n&&ui(B),C=u.style,M=c.useMemo(()=>m?O({pointerEvents:"none"},C):C,[m,C]);return u=N(O({"data-focus-visible":n&&p||void 0,"data-autofocus":s||void 0,"aria-disabled":f||void 0},u),{ref:xe(a,V,u.ref),style:M,tabIndex:ai(n,m,H,d,u.tabIndex),disabled:d&&m?!0:void 0,contentEditable:f?void 0:u.contentEditable,onKeyPressCapture:y,onClickCapture:x,onMouseDownCapture:g,onMouseDown:P,onKeyDownCapture:v,onFocusCapture:w,onBlur:R}),Ye(u)});Z(function(t){const r=Tt(t);return ee(ti,r)});var fi="div";function di(e){return e.some(t=>!!t.rowId)}function vi(e){const t=e.target;return t&&!He(t)?!1:e.key.length===1&&!e.ctrlKey&&!e.metaKey}function mi(e){return e.key==="Shift"||e.key==="Control"||e.key==="Alt"||e.key==="Meta"}function _n(e,t,r){return W(n=>{var o;if(t==null||t(n),n.defaultPrevented||n.isPropagationStopped()||!Te(n)||mi(n)||vi(n))return;const s=e.getState(),i=(o=qe(e,s.activeId))==null?void 0:o.element;if(!i)return;const u=n,a=Q(u,["view"]),f=r==null?void 0:r.current;i!==f&&i.focus(),$o(i,n.type,a)||n.preventDefault(),n.currentTarget.contains(i)&&n.stopPropagation()})}function pi(e){return Ks(hr($t(Bs(e))))}function bi(e){const[t,r]=c.useState(!1),n=c.useCallback(()=>r(!0),[]),o=e.useState(s=>qe(e,s.activeId));return c.useEffect(()=>{const s=o==null?void 0:o.element;t&&s&&(r(!1),s.focus({preventScroll:!0}))},[o,t]),n}var kr=te(function(t){var r=t,{store:n,composite:o=!0,focusOnMove:s=o,moveOnKeyPress:i=!0}=r,u=Q(r,["store","composite","focusOnMove","moveOnKeyPress"]);const a=Zo();n=n||a,Oe(n,"Composite must receive a `store` prop or be wrapped in a CompositeProvider component.");const f=c.useRef(null),m=c.useRef(null),p=bi(n),l=n.useState("moves"),[,y]=Ho(o?n.setBaseElement:null);c.useEffect(()=>{var d;if(!n||!l||!o||!s)return;const{activeId:C}=n.getState(),M=(d=qe(n,C))==null?void 0:d.element;M&&ei(M)},[n,l,o,s]),J(()=>{if(!n||!l||!o)return;const{baseElement:d,activeId:C}=n.getState();if(!(C===null)||!d)return;const E=m.current;m.current=null,E&&nt(E,{relatedTarget:d}),Je(d)||d.focus()},[n,l,o]);const g=n.useState("activeId"),x=n.useState("virtualFocus");J(()=>{var d;if(!n||!o||!x)return;const C=m.current;if(m.current=null,!C)return;const E=((d=qe(n,g))==null?void 0:d.element)||Be(C);E!==C&&nt(C,{relatedTarget:E})},[n,g,x,o]);const _=_n(n,u.onKeyDownCapture,m),P=_n(n,u.onKeyUpCapture,m),A=u.onFocusCapture,D=W(d=>{if(A==null||A(d),d.defaultPrevented||!n)return;const{virtualFocus:C}=n.getState();if(!C)return;const M=d.relatedTarget,E=Ws(d.currentTarget);Te(d)&&E&&(d.stopPropagation(),m.current=M)}),v=u.onFocus,b=W(d=>{if(v==null||v(d),d.defaultPrevented||!o||!n)return;const{relatedTarget:C}=d,{virtualFocus:M}=n.getState();M?Te(d)&&!at(n,C)&&queueMicrotask(p):Te(d)&&n.setActiveId(null)}),w=u.onBlurCapture,I=W(d=>{var C;if(w==null||w(d),d.defaultPrevented||!n)return;const{virtualFocus:M,activeId:E}=n.getState();if(!M)return;const k=(C=qe(n,E))==null?void 0:C.element,$=d.relatedTarget,h=at(n,$),K=m.current;m.current=null,Te(d)&&h?($===k?K&&K!==$&&nt(K,d):k?nt(k,d):K&&nt(K,d),d.stopPropagation()):!at(n,d.target)&&k&&nt(k,d)}),R=u.onKeyDown,S=ue(i),V=W(d=>{var C;if(R==null||R(d),d.defaultPrevented||!n||!Te(d))return;const{orientation:M,items:E,renderedItems:k,activeId:$}=n.getState(),h=qe(n,$);if((C=h==null?void 0:h.element)!=null&&C.isConnected)return;const K=M!=="horizontal",z=M!=="vertical",X=di(k);if((d.key==="ArrowLeft"||d.key==="ArrowRight"||d.key==="Home"||d.key==="End")&&He(d.currentTarget))return;const Ce={ArrowUp:(X||K)&&(()=>{if(X){const ve=E&&pi(E);return ve==null?void 0:ve.id}return n==null?void 0:n.last()}),ArrowRight:(X||z)&&n.first,ArrowDown:(X||K)&&n.first,ArrowLeft:(X||z)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last}[d.key];if(Ce){const ve=Ce();if(ve!==void 0){if(!S(d))return;d.preventDefault(),n.move(ve)}}});u=Ie(u,d=>T.jsx(en,{value:n,children:d}),[n]);const B=n.useState(d=>{var C;if(n&&o&&d.virtualFocus)return(C=qe(n,d.activeId))==null?void 0:C.id});u=N(O({"aria-activedescendant":B},u),{ref:xe(f,y,u.ref),onKeyDownCapture:_,onKeyUpCapture:P,onFocusCapture:D,onFocus:b,onBlurCapture:I,onKeyDown:V});const H=n.useState(d=>o&&(d.virtualFocus||d.activeId===null));return u=Tt(O({focusable:H},u)),u});Z(function(t){const r=kr(t);return ee(fi,r)});var gi="input";function Fn(e,t,r){if(!r)return!1;const n=e.find(o=>!o.disabled&&o.value);return(n==null?void 0:n.value)===t}function Rn(e,t){return!t||e==null?!1:(e=tr(e),t.length>e.length&&t.toLowerCase().indexOf(e.toLowerCase())===0)}function hi(e){return e.type==="input"}function xi(e){return e==="inline"||e==="list"||e==="both"||e==="none"}function Si(e){const t=e.find(r=>{var n;return r.disabled?!1:((n=r.element)==null?void 0:n.getAttribute("role"))!=="tab"});return t==null?void 0:t.id}var yi=te(function(t){var r=t,{store:n,focusable:o=!0,autoSelect:s=!1,getAutoSelectId:i,setValueOnChange:u,showMinLength:a=0,showOnChange:f,showOnMouseDown:m,showOnClick:p=m,showOnKeyDown:l,showOnKeyPress:y=l,blurActiveItemOnClick:g,setValueOnClick:x=!0,moveOnKeyPress:_=!0,autoComplete:P="list"}=r,A=Q(r,["store","focusable","autoSelect","getAutoSelectId","setValueOnChange","showMinLength","showOnChange","showOnMouseDown","showOnClick","showOnKeyDown","showOnKeyPress","blurActiveItemOnClick","setValueOnClick","moveOnKeyPress","autoComplete"]);const D=Ot();n=n||D,Oe(n,"Combobox must receive a `store` prop or be wrapped in a ComboboxProvider component.");const v=c.useRef(null),[b,w]=cr(),I=c.useRef(!1),R=c.useRef(!1),S=n.useState(F=>F.virtualFocus&&s),V=P==="inline"||P==="both",[B,H]=c.useState(V);Wo(()=>{V&&H(!0)},[V]);const d=n.useState("value"),C=c.useRef();c.useEffect(()=>Pe(n,["selectedValue","activeId"],(F,U)=>{C.current=U.selectedValue}),[]);const M=n.useState(F=>{var U;if(V&&B&&!(F.activeValue&&Array.isArray(F.selectedValue)&&(F.selectedValue.includes(F.activeValue)||(U=C.current)!=null&&U.includes(F.activeValue))))return F.activeValue}),E=n.useState("renderedItems"),k=n.useState("open"),$=n.useState("contentElement"),h=c.useMemo(()=>{if(!V||!B)return d;if(Fn(E,M,S)){if(Rn(d,M)){const U=(M==null?void 0:M.slice(d.length))||"";return d+U}return d}return M||d},[V,B,E,M,S,d]);c.useEffect(()=>{const F=v.current;if(!F)return;const U=()=>H(!0);return F.addEventListener("combobox-item-move",U),()=>{F.removeEventListener("combobox-item-move",U)}},[]),c.useEffect(()=>{if(!V||!B||!M||!Fn(E,M,S)||!Rn(d,M))return;let U=ut;return queueMicrotask(()=>{const ie=v.current;if(!ie)return;const{start:ce,end:De}=jt(ie),Le=d.length,he=M.length;_t(ie,Le,he),U=()=>{if(!Je(ie))return;const{start:Ge,end:eo}=jt(ie);Ge===Le&&eo===he&&_t(ie,ce,De)}}),()=>U()},[b,V,B,M,E,S,d]);const K=c.useRef(null),z=W(i),X=c.useRef(null);c.useEffect(()=>{if(!k||!$)return;const F=Yt($);if(!F)return;K.current=F;const U=()=>{I.current=!1},ie=()=>{if(!n||!I.current)return;const{activeId:De}=n.getState();De!==null&&De!==X.current&&(I.current=!1)},ce={passive:!0,capture:!0};return F.addEventListener("wheel",U,ce),F.addEventListener("touchmove",U,ce),F.addEventListener("scroll",ie,ce),()=>{F.removeEventListener("wheel",U,!0),F.removeEventListener("touchmove",U,!0),F.removeEventListener("scroll",ie,!0)}},[k,$,n]),J(()=>{d&&(R.current||(I.current=!0))},[d]),J(()=>{S!=="always"&&k||(I.current=k)},[S,k]);const ae=n.useState("resetValueOnSelect");ct(()=>{var F,U;const ie=I.current;if(!n||!k||(!S||!ie)&&!ae)return;const{baseElement:ce,contentElement:De,activeId:Le}=n.getState();if(!(ce&&!Je(ce))){if(De!=null&&De.hasAttribute("data-placing")){const he=new MutationObserver(w);return he.observe(De,{attributeFilter:["data-placing"]}),()=>he.disconnect()}if(S&&ie){const he=z(E),Ge=he!==void 0?he:(F=Si(E))!=null?F:n.first();X.current=Ge,n.move(Ge??null)}else{const he=(U=n.item(Le))==null?void 0:U.element;he&&"scrollIntoView"in he&&he.scrollIntoView({block:"nearest",inline:"nearest"})}}},[n,k,b,d,S,ae,z,E]),c.useEffect(()=>{if(!V)return;const F=v.current;if(!F)return;const U=[F,$].filter(ce=>!!ce),ie=ce=>{U.every(De=>Xe(ce,De))&&(n==null||n.setValue(h))};for(const ce of U)ce.addEventListener("focusout",ie);return()=>{for(const ce of U)ce.removeEventListener("focusout",ie)}},[V,$,n,h]);const ne=F=>F.currentTarget.value.length>=a,se=A.onChange,Ce=ue(f??ne),ve=ue(u??!n.tag),fe=W(F=>{if(se==null||se(F),F.defaultPrevented||!n)return;const U=F.currentTarget,{value:ie,selectionStart:ce,selectionEnd:De}=U,Le=F.nativeEvent;if(I.current=!0,hi(Le)&&(Le.isComposing&&(I.current=!1,R.current=!0),V)){const he=Le.inputType==="insertText"||Le.inputType==="insertCompositionText",Ge=ce===ie.length;H(he&&Ge)}if(ve(F)){const he=ie===n.getState().value;n.setValue(ie),queueMicrotask(()=>{_t(U,ce,De)}),V&&S&&he&&w()}Ce(F)&&n.show(),(!S||!I.current)&&n.setActiveId(null)}),ge=A.onCompositionEnd,j=W(F=>{I.current=!0,R.current=!1,ge==null||ge(F),!F.defaultPrevented&&S&&w()}),Se=A.onMouseDown,me=ue(g??(()=>!!(n!=null&&n.getState().includesBaseElement))),Fe=ue(x),Me=ue(p??ne),ze=W(F=>{Se==null||Se(F),!F.defaultPrevented&&(F.button||F.ctrlKey||n&&(me(F)&&n.setActiveId(null),Fe(F)&&n.setValue(h),Me(F)&&rt(F.currentTarget,"mouseup",n.show)))}),Ve=A.onKeyDown,We=ue(y??ne),L=W(F=>{if(Ve==null||Ve(F),F.repeat||(I.current=!1),F.defaultPrevented||F.ctrlKey||F.altKey||F.shiftKey||F.metaKey||!n)return;const{open:U}=n.getState();U||(F.key==="ArrowUp"||F.key==="ArrowDown")&&We(F)&&(F.preventDefault(),n.show())}),q=A.onBlur,de=W(F=>{I.current=!1,q==null||q(F),F.defaultPrevented}),Y=it(A.id),ye=xi(P)?P:void 0,Ae=n.useState(F=>F.activeId===null);return A=N(O({id:Y,role:"combobox","aria-autocomplete":ye,"aria-haspopup":ir($,"listbox"),"aria-expanded":k,"aria-controls":$==null?void 0:$.id,"data-active-item":Ae||void 0,value:h},A),{ref:xe(v,A.ref),onChange:fe,onCompositionEnd:j,onMouseDown:ze,onKeyDown:L,onBlur:de}),A=kr(N(O({store:n,focusable:o},A),{moveOnKeyPress:F=>rr(_,F)?!1:(V&&H(!0),!0)})),A=Dr(O({store:n},A)),O({autoComplete:"off"},A)}),Ei=Z(function(t){const r=yi(t);return ee(gi,r)});function Ci(e={}){const t=Ts(e);return T.jsx(Ns,{value:t,children:e.children})}var wi="button";function kn(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return e.key==="Enter"?$e(t)||t.tagName==="SUMMARY"||t.tagName==="A":e.key===" "?$e(t)||t.tagName==="SUMMARY"||t.tagName==="INPUT"||t.tagName==="SELECT":!1}var Pi=Symbol("command"),dn=te(function(t){var r=t,{clickOnEnter:n=!0,clickOnSpace:o=!0}=r,s=Q(r,["clickOnEnter","clickOnSpace"]);const i=c.useRef(null),u=Jt(i),a=s.type,[f,m]=c.useState(()=>!!u&&$e({tagName:u,type:a}));c.useEffect(()=>{i.current&&m($e(i.current))},[]);const[p,l]=c.useState(!1),y=c.useRef(!1),g=Ut(s),[x,_]=fr(s,Pi,!0),P=s.onKeyDown,A=W(b=>{P==null||P(b);const w=b.currentTarget;if(b.defaultPrevented||x||g||!Te(b)||He(w)||w.isContentEditable)return;const I=n&&b.key==="Enter",R=o&&b.key===" ",S=b.key==="Enter"&&!n,V=b.key===" "&&!o;if(S||V){b.preventDefault();return}if(I||R){const B=kn(b);if(I){if(!B){b.preventDefault();const H=b,d=Q(H,["view"]),C=()=>yn(w,d);Vo()?rt(w,"keyup",C):queueMicrotask(C)}}else R&&(y.current=!0,B||(b.preventDefault(),l(!0)))}}),D=s.onKeyUp,v=W(b=>{if(D==null||D(b),b.defaultPrevented||x||g||b.metaKey)return;const w=o&&b.key===" ";if(y.current&&w&&(y.current=!1,!kn(b))){b.preventDefault(),l(!1);const I=b.currentTarget,R=b,S=Q(R,["view"]);queueMicrotask(()=>yn(I,S))}});return s=N(O(O({"data-active":p||void 0,type:f?"button":void 0},_),s),{ref:xe(i,s.ref),onKeyDown:A,onKeyUp:v}),s=Tt(s),s});Z(function(t){const r=dn(t);return ee(wi,r)});var Mr="button",Vr=te(function(t){const r=c.useRef(null),n=Jt(r,Mr),[o,s]=c.useState(()=>!!n&&$e({tagName:n,type:t.type}));return c.useEffect(()=>{r.current&&s($e(r.current))},[]),t=N(O({role:!o&&n!=="a"?"button":void 0},t),{ref:xe(r,t.ref)}),t=dn(t),t});Z(function(t){const r=Vr(t);return ee(Mr,r)});var Ii="button",Oi=Symbol("disclosure"),Lr=te(function(t){var r=t,{store:n,toggleOnClick:o=!0}=r,s=Q(r,["store","toggleOnClick"]);const i=on();n=n||i,Oe(n,"Disclosure must receive a `store` prop or be wrapped in a DisclosureProvider component.");const u=c.useRef(null),[a,f]=c.useState(!1),m=n.useState("disclosureElement"),p=n.useState("open");c.useEffect(()=>{let A=m===u.current;m!=null&&m.isConnected||(n==null||n.setDisclosureElement(u.current),A=!0),f(p&&A)},[m,n,p]);const l=s.onClick,y=ue(o),[g,x]=fr(s,Oi,!0),_=W(A=>{l==null||l(A),!A.defaultPrevented&&(g||y(A)&&(n==null||n.setDisclosureElement(A.currentTarget),n==null||n.toggle()))}),P=n.useState("contentElement");return s=N(O(O({"aria-expanded":a,"aria-controls":P==null?void 0:P.id},x),s),{ref:xe(u,s.ref),onClick:_}),s=Vr(s),s});Z(function(t){const r=Lr(t);return ee(Ii,r)});var Ai="button",Nr=te(function(t){var r=t,{store:n}=r,o=Q(r,["store"]);const s=It();n=n||s,Oe(n,"DialogDisclosure must receive a `store` prop or be wrapped in a DialogProvider component.");const i=n.useState("contentElement");return o=O({"aria-haspopup":ir(i,"dialog")},o),o=Lr(O({store:n},o)),o});Z(function(t){const r=Nr(t);return ee(Ai,r)});var Di="button",Ti=T.jsx("svg",{"aria-hidden":"true",display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",pointerEvents:"none",children:T.jsx("polyline",{points:"4,6 8,10 12,6"})}),_i=te(function(t){var r=t,{store:n}=r,o=Q(r,["store"]);const s=Ot();n=n||s,Oe(n,"ComboboxDisclosure must receive a `store` prop or be wrapped in a ComboboxProvider component.");const i=o.onMouseDown,u=W(p=>{i==null||i(p),p.preventDefault(),n==null||n.move(null)}),a=o.onClick,f=W(p=>{if(a==null||a(p),p.defaultPrevented||!n)return;const{baseElement:l}=n.getState();n.setDisclosureElement(l)}),m=n.useState("open");return o=N(O({children:Ti,tabIndex:-1,"aria-label":m?"Hide popup":"Show popup","aria-expanded":m},o),{onMouseDown:u,onClick:f}),o=Nr(O({store:n},o)),o}),Fi=Z(function(t){const r=_i(t);return ee(Di,r)}),Ri=c.createContext(!1),ki="span",Mi=T.jsx("svg",{display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",children:T.jsx("polyline",{points:"4,8 7,12 12,4"})});function Vi(e){return e.checked?e.children||Mi:typeof e.children=="function"?e.children:null}var jr=te(function(t){var r=t,{store:n,checked:o}=r,s=Q(r,["store","checked"]);const i=c.useContext(Ri);o=o??i;const u=Vi({checked:o,children:s.children});return s=N(O({"aria-hidden":!0},s),{children:u,style:O({width:"1em",height:"1em",pointerEvents:"none"},s.style)}),Ye(s)});Z(function(t){const r=jr(t);return ee(ki,r)});var Li="span",Ni=te(function(t){var r=t,{store:n,checked:o}=r,s=Q(r,["store","checked"]);const i=c.useContext(Ar);return o=o??i,s=jr(N(O({},s),{checked:o})),s}),ji=Z(function(t){const r=Ni(t);return ee(Li,r)}),$i="span";function Mn(e){return tr(e).toLowerCase()}function Ki(e,t){const r=[];for(const n of t){let o=0;const s=n.length;for(;e.indexOf(n,o)!==-1;){const i=e.indexOf(n,o);i!==-1&&r.push([i,s]),o=i+1}}return r}function Bi(e){return e.filter(([t,r],n,o)=>!o.some(([s,i],u)=>u!==n&&s<=t&&s+i>=t+r))}function Hi(e){return e.sort(([t],[r])=>t-r)}function zi(e,t){if(!e||!t)return e;const r=ms(t).filter(Boolean).map(Mn),n=[],o=(a,f=!1)=>T.jsx("span",{"data-autocomplete-value":f?"":void 0,"data-user-value":f?void 0:"",children:a},n.length),s=Hi(Bi(Ki(Mn(e),new Set(r))));if(!s.length)return n.push(o(e,!0)),n;const[i]=s[0];return[e.slice(0,i),...s.flatMap(([a,f],m)=>{var p;const l=e.slice(a,a+f),y=(p=s[m+1])==null?void 0:p[0],g=e.slice(a+f,y);return[l,g]})].forEach((a,f)=>{a&&n.push(o(a,f%2===0))}),n}var Wi=te(function(t){var r=t,{store:n,value:o,userValue:s}=r,i=Q(r,["store","value","userValue"]);const u=cn();n=n||u;const a=c.useContext(Or),f=o??a,m=le(n,l=>s??(l==null?void 0:l.value)),p=c.useMemo(()=>{if(f)return m?zi(f,m):f},[f,m]);return i=O({children:p},i),Ye(i)}),Ui=Z(function(t){const r=Wi(t);return ee($i,r)}),qi="div";function $r(e){const t=e.relatedTarget;return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}function Yi(e){const t=$r(e);return t?be(e.currentTarget,t):!1}var Bt=Symbol("composite-hover");function Gi(e){let t=$r(e);if(!t)return!1;do{if(je(t,Bt)&&t[Bt])return!0;t=t.parentElement}while(t);return!1}var Kr=te(function(t){var r=t,{store:n,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=r,i=Q(r,["store","focusOnHover","blurOnHoverEnd"]);const u=dr();n=n||u,Oe(n,"CompositeHover must be wrapped in a Composite component.");const a=Uo(),f=i.onMouseMove,m=ue(o),p=W(_=>{if(f==null||f(_),!_.defaultPrevented&&a()&&m(_)){if(!_r(_.currentTarget)){const P=n==null?void 0:n.getState().baseElement;P&&!Je(P)&&P.focus()}n==null||n.setActiveId(_.currentTarget.id)}}),l=i.onMouseLeave,y=ue(s),g=W(_=>{var P;l==null||l(_),!_.defaultPrevented&&a()&&(Yi(_)||Gi(_)||m(_)&&y(_)&&(n==null||n.setActiveId(null),(P=n==null?void 0:n.getState().baseElement)==null||P.focus()))}),x=c.useCallback(_=>{_&&(_[Bt]=!0)},[]);return i=N(O({},i),{ref:xe(x,i.ref),onMouseMove:p,onMouseLeave:g}),Ye(i)});Qt(Z(function(t){const r=Kr(t);return ee(qi,r)}));var Xi="div",Br=te(function(t){var r=t,{store:n,shouldRegisterItem:o=!0,getItem:s=nr,element:i}=r,u=Q(r,["store","shouldRegisterItem","getItem","element"]);const a=Go();n=n||a;const f=it(u.id),m=c.useRef(i);return c.useEffect(()=>{const p=m.current;if(!f||!p||!o)return;const l=s({id:f,element:p});return n==null?void 0:n.renderItem(l)},[f,o,s,n]),u=N(O({},u),{ref:xe(m,u.ref)}),Ye(u)});Z(function(t){const r=Br(t);return ee(Xi,r)});var Ji="button";function Zi(e){return Nt(e)?!0:e.tagName==="INPUT"&&!$e(e)}function Qi(e,t=!1){const r=e.clientHeight,{top:n}=e.getBoundingClientRect(),o=Math.max(r*.875,r-40)*1.5,s=t?r-o+n:o+n;return e.tagName==="HTML"?s+e.scrollTop:s}function eu(e,t=!1){const{top:r}=e.getBoundingClientRect();return t?r+e.clientHeight:r}function Vn(e,t,r,n=!1){var o;if(!t||!r)return;const{renderedItems:s}=t.getState(),i=Yt(e);if(!i)return;const u=Qi(i,n);let a,f;for(let m=0;m<s.length;m+=1){const p=a;if(a=r(m),!a)break;if(a===p)continue;const l=(o=qe(t,a))==null?void 0:o.element;if(!l)continue;const g=eu(l,n)-u,x=Math.abs(g);if(n&&g<=0||!n&&g>=0){f!==void 0&&f<x&&(a=p);break}f=x}return a}function tu(e,t){return Te(e)?!1:at(t,e.target)}var Hr=te(function(t){var r=t,{store:n,rowId:o,preventScrollOnKeyDown:s=!1,moveOnKeyPress:i=!0,tabbable:u=!1,getItem:a,"aria-setsize":f,"aria-posinset":m}=r,p=Q(r,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const l=dr();n=n||l;const y=it(p.id),g=c.useRef(null),x=c.useContext(es),_=le(n,h=>{if(o)return o;if(h&&x!=null&&x.baseElement&&x.baseElement===h.baseElement)return x.id}),A=Ut(p)&&!p.accessibleWhenDisabled,D=c.useCallback(h=>{const K=N(O({},h),{id:y||h.id,rowId:_,disabled:!!A});return a?a(K):K},[y,_,A,a]),v=p.onFocus,b=c.useRef(!1),w=W(h=>{if(v==null||v(h),h.defaultPrevented||ar(h)||!y||!n||tu(h,n))return;const{virtualFocus:K,baseElement:z}=n.getState();if(n.setActiveId(y),Nt(h.currentTarget)&&Hs(h.currentTarget),!K||!Te(h)||Zi(h.currentTarget)||!(z!=null&&z.isConnected))return;wt()&&h.currentTarget.hasAttribute("data-autofocus")&&h.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),b.current=!0,h.relatedTarget===z||at(n,h.relatedTarget)?zs(z):z.focus()}),I=p.onBlurCapture,R=W(h=>{if(I==null||I(h),h.defaultPrevented)return;const K=n==null?void 0:n.getState();K!=null&&K.virtualFocus&&b.current&&(b.current=!1,h.preventDefault(),h.stopPropagation())}),S=p.onKeyDown,V=ue(s),B=ue(i),H=W(h=>{if(S==null||S(h),h.defaultPrevented||!Te(h)||!n)return;const{currentTarget:K}=h,z=n.getState(),X=n.item(y),ae=!!(X!=null&&X.rowId),ne=z.orientation!=="horizontal",se=z.orientation!=="vertical",Ce=()=>!!(ae||se||!z.baseElement||!He(z.baseElement)),fe={ArrowUp:(ae||ne)&&n.up,ArrowRight:(ae||se)&&n.next,ArrowDown:(ae||ne)&&n.down,ArrowLeft:(ae||se)&&n.previous,Home:()=>{if(Ce())return!ae||h.ctrlKey?n==null?void 0:n.first():n==null?void 0:n.previous(-1)},End:()=>{if(Ce())return!ae||h.ctrlKey?n==null?void 0:n.last():n==null?void 0:n.next(-1)},PageUp:()=>Vn(K,n,n==null?void 0:n.up,!0),PageDown:()=>Vn(K,n,n==null?void 0:n.down)}[h.key];if(fe){if(Nt(K)){const j=jt(K),Se=se&&h.key==="ArrowLeft",me=se&&h.key==="ArrowRight",Fe=ne&&h.key==="ArrowUp",Me=ne&&h.key==="ArrowDown";if(me||Me){const{length:ze}=Mo(K);if(j.end!==ze)return}else if((Se||Fe)&&j.start!==0)return}const ge=fe();if(V(h)||ge!==void 0){if(!B(h))return;h.preventDefault(),n.move(ge)}}}),d=le(n,h=>(h==null?void 0:h.baseElement)||void 0),C=c.useMemo(()=>({id:y,baseElement:d}),[y,d]);p=Ie(p,h=>T.jsx(Qo.Provider,{value:C,children:h}),[C]);const M=le(n,h=>!!h&&h.activeId===y),E=le(n,h=>{if(f!=null)return f;if(h&&x!=null&&x.ariaSetSize&&x.baseElement===h.baseElement)return x.ariaSetSize}),k=le(n,h=>{if(m!=null)return m;if(!h||!(x!=null&&x.ariaPosInSet)||x.baseElement!==h.baseElement)return;const K=h.renderedItems.filter(z=>z.rowId===_);return x.ariaPosInSet+K.findIndex(z=>z.id===y)}),$=le(n,h=>{var K;if(!(h!=null&&h.renderedItems.length))return!0;if(h.virtualFocus)return!1;if(u)return!0;if(h.activeId===null)return!1;const z=n==null?void 0:n.item(h.activeId);return z!=null&&z.disabled||!((K=z==null?void 0:z.element)!=null&&K.isConnected)?!0:h.activeId===y});return p=N(O({id:y,"data-active-item":M||void 0},p),{ref:xe(g,p.ref),tabIndex:$?p.tabIndex:-1,onFocus:w,onBlurCapture:R,onKeyDown:H}),p=dn(p),p=Br(N(O({store:n},p),{getItem:D,shouldRegisterItem:y?p.shouldRegisterItem:!1})),Ye(N(O({},p),{"aria-setsize":E,"aria-posinset":k}))});Qt(Z(function(t){const r=Hr(t);return ee(Ji,r)}));var nu="div";function ru(e,t){if(t!=null)return e==null?!1:Array.isArray(e)?e.includes(t):e===t}function ou(e){var t;return(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])!=null?t:"option"}var su=te(function(t){var r=t,{store:n,value:o,hideOnClick:s,setValueOnClick:i,selectValueOnClick:u=!0,resetValueOnSelect:a,focusOnHover:f=!1,moveOnKeyPress:m=!0,getItem:p}=r,l=Q(r,["store","value","hideOnClick","setValueOnClick","selectValueOnClick","resetValueOnSelect","focusOnHover","moveOnKeyPress","getItem"]),y;const g=cn();n=n||g,Oe(n,"ComboboxItem must be wrapped in a ComboboxList or ComboboxPopover component.");const x=c.useCallback(d=>{const C=N(O({},d),{value:o});return p?p(C):C},[o,p]),_=n.useState(d=>Array.isArray(d.selectedValue)),P=n.useState(d=>ru(d.selectedValue,o)),A=n.useState("resetValueOnSelect");i=i??!_,s=s??(o!=null&&!_);const D=l.onClick,v=ue(i),b=ue(u),w=ue((y=a??A)!=null?y:_),I=ue(s),R=W(d=>{D==null||D(d),!d.defaultPrevented&&(jo(d)||No(d)||(o!=null&&(b(d)&&(w(d)&&(n==null||n.resetValue()),n==null||n.setSelectedValue(C=>Array.isArray(C)?C.includes(o)?C.filter(M=>M!==o):[...C,o]:o)),v(d)&&(n==null||n.setValue(o))),I(d)&&(n==null||n.hide())))}),S=l.onKeyDown,V=W(d=>{if(S==null||S(d),d.defaultPrevented)return;const C=n==null?void 0:n.getState().baseElement;if(!C||Je(C))return;(d.key.length===1||d.key==="Backspace"||d.key==="Delete")&&(queueMicrotask(()=>C.focus()),He(C)&&(n==null||n.setValue(C.value)))});_&&P!=null&&(l=O({"aria-selected":P},l)),l=Ie(l,d=>T.jsx(Or.Provider,{value:o,children:T.jsx(Ar.Provider,{value:P??!1,children:d})}),[o,P]);const B=c.useContext(Ir);l=N(O({role:ou(B),children:o},l),{onClick:R,onKeyDown:V});const H=ue(m);return l=Hr(N(O({store:n},l),{getItem:x,moveOnKeyPress:d=>{if(!H(d))return!1;const C=new Event("combobox-item-move"),M=n==null?void 0:n.getState().baseElement;return M==null||M.dispatchEvent(C),!0}})),l=Kr(O({store:n,focusOnHover:f},l)),l}),Ln=Qt(Z(function(t){const r=su(t);return ee(nu,r)})),iu="div";function Nn(e,t){const r=setTimeout(t,e);return()=>clearTimeout(r)}function uu(e){let t=requestAnimationFrame(()=>{t=requestAnimationFrame(e)});return()=>cancelAnimationFrame(t)}function jn(...e){return e.join(", ").split(", ").reduce((t,r)=>{const n=r.endsWith("ms")?1:1e3,o=Number.parseFloat(r||"0s")*n;return o>t?o:t},0)}function vn(e,t,r){return!r&&t!==!1&&(!e||!!t)}var mn=te(function(t){var r=t,{store:n,alwaysVisible:o}=r,s=Q(r,["store","alwaysVisible"]);const i=on();n=n||i,Oe(n,"DisclosureContent must receive a `store` prop or be wrapped in a DisclosureProvider component.");const u=c.useRef(null),a=it(s.id),[f,m]=c.useState(null),p=n.useState("open"),l=n.useState("mounted"),y=n.useState("animated"),g=n.useState("contentElement"),x=le(n.disclosure,"contentElement");J(()=>{u.current&&(n==null||n.setContentElement(u.current))},[n]),J(()=>{let D;return n==null||n.setState("animated",v=>(D=v,!0)),()=>{D!==void 0&&(n==null||n.setState("animated",D))}},[n]),J(()=>{if(y){if(!(g!=null&&g.isConnected)){m(null);return}return uu(()=>{m(p?"enter":l?"leave":null)})}},[y,g,p,l]),J(()=>{if(!n||!y||!f||!g)return;const D=()=>n==null?void 0:n.setState("animating",!1),v=()=>xt.flushSync(D);if(f==="leave"&&p||f==="enter"&&!p)return;if(typeof y=="number")return Nn(y,v);const{transitionDuration:b,animationDuration:w,transitionDelay:I,animationDelay:R}=getComputedStyle(g),{transitionDuration:S="0",animationDuration:V="0",transitionDelay:B="0",animationDelay:H="0"}=x?getComputedStyle(x):{},d=jn(I,R,B,H),C=jn(b,w,S,V),M=d+C;if(!M){f==="enter"&&n.setState("animated",!1),D();return}const E=1e3/60,k=Math.max(M-E,0);return Nn(k,v)},[n,y,g,x,p,f]),s=Ie(s,D=>T.jsx(un,{value:n,children:D}),[n]);const _=vn(l,s.hidden,o),P=s.style,A=c.useMemo(()=>_?N(O({},P),{display:"none"}):P,[_,P]);return s=N(O({id:a,"data-open":p||void 0,"data-enter":f==="enter"||void 0,"data-leave":f==="leave"||void 0,hidden:_},s),{ref:xe(a?n.setContentElement:null,u,s.ref),style:A}),Ye(s)}),au=Z(function(t){const r=mn(t);return ee(iu,r)});Z(function(t){var r=t,{unmountOnHide:n}=r,o=Q(r,["unmountOnHide"]);const s=on(),i=o.store||s;return le(i,a=>!n||(a==null?void 0:a.mounted))===!1?null:T.jsx(au,O({},o))});var cu="div",zr=te(function(t){var r=t,{store:n,alwaysVisible:o}=r,s=Q(r,["store","alwaysVisible"]);const i=cn(!0),u=Ls();n=n||u;const a=!!n&&n===i;Oe(n,"ComboboxList must receive a `store` prop or be wrapped in a ComboboxProvider component.");const f=c.useRef(null),m=it(s.id),p=n.useState("mounted"),l=vn(p,s.hidden,o),y=l?N(O({},s.style),{display:"none"}):s.style,g=n.useState(w=>Array.isArray(w.selectedValue)),x=zo(f,"role",s.role),P=(x==="listbox"||x==="tree"||x==="grid")&&g||void 0,[A,D]=c.useState(!1),v=n.useState("contentElement");J(()=>{if(!p)return;const w=f.current;if(!w||v!==w)return;const I=()=>{D(!!w.querySelector("[role='listbox']"))},R=new MutationObserver(I);return R.observe(w,{subtree:!0,childList:!0,attributeFilter:["role"]}),I(),()=>R.disconnect()},[p,v]),A||(s=O({role:"listbox","aria-multiselectable":P},s)),s=Ie(s,w=>T.jsx(js,{value:n,children:T.jsx(Ir.Provider,{value:x,children:w})}),[n,x]);const b=m&&(!i||!a)?n.setContentElement:null;return s=N(O({id:m,hidden:l},s),{ref:xe(b,f,s.ref),style:y}),Ye(s)});Z(function(t){const r=zr(t);return ee(cu,r)});function Wr(e,...t){if(!e)return!1;const r=e.getAttribute("data-backdrop");return r==null?!1:r===""||r==="true"||!t.length?!0:t.some(n=>r===n)}var kt=new WeakMap;function pt(e,t,r){kt.has(e)||kt.set(e,new Map);const n=kt.get(e),o=n.get(t);if(!o)return n.set(t,r()),()=>{var u;(u=n.get(t))==null||u(),n.delete(t)};const s=r(),i=()=>{s(),o(),n.delete(t)};return n.set(t,i),()=>{n.get(t)===i&&(s(),n.set(t,o))}}function pn(e,t,r){return pt(e,t,()=>{const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o==null?e.removeAttribute(t):e.setAttribute(t,o)}})}function Ze(e,t,r){return pt(e,t,()=>{const o=t in e,s=e[t];return e[t]=r,()=>{o?e[t]=s:delete e[t]}})}function Ht(e,t){return e?pt(e,"style",()=>{const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}):()=>{}}function lu(e,t,r){return e?pt(e,t,()=>{const o=e.style.getPropertyValue(t);return e.style.setProperty(t,r),()=>{o?e.style.setProperty(t,o):e.style.removeProperty(t)}}):()=>{}}var fu=["SCRIPT","STYLE"];function zt(e){return`__ariakit-dialog-snapshot-${e}`}function du(e,t){const r=oe(t),n=zt(e);if(!r.body[n])return!0;do{if(t===r.body)return!1;if(t[n])return!0;if(!t.parentElement)return!1;t=t.parentElement}while(!0)}function vu(e,t,r){return fu.includes(t.tagName)||!du(e,t)?!1:!r.some(n=>n&&be(t,n))}function bn(e,t,r,n){for(let o of t){if(!(o!=null&&o.isConnected))continue;const s=t.some(a=>!a||a===o?!1:a.contains(o)),i=oe(o),u=o;for(;o.parentElement&&o!==i.body;){if(n==null||n(o.parentElement,u),!s)for(const a of o.parentElement.children)vu(e,a,t)&&r(a,u);o=o.parentElement}}}function mu(e,t){const{body:r}=oe(t[0]),n=[];return bn(e,t,s=>{n.push(Ze(s,zt(e),!0))}),_e(Ze(r,zt(e),!0),()=>{for(const s of n)s()})}function ot(e="",t=!1){return`__ariakit-dialog-${t?"ancestor":"outside"}${e?`-${e}`:""}`}function pu(e,t=""){return _e(Ze(e,ot(),!0),Ze(e,ot(t),!0))}function Ur(e,t=""){return _e(Ze(e,ot("",!0),!0),Ze(e,ot(t,!0),!0))}function gn(e,t){const r=ot(t,!0);if(e[r])return!0;const n=ot(t);do{if(e[n])return!0;if(!e.parentElement)return!1;e=e.parentElement}while(!0)}function $n(e,t){const r=[],n=t.map(s=>s==null?void 0:s.id);return bn(e,t,s=>{Wr(s,...n)||r.unshift(pu(s,e))},(s,i)=>{i.hasAttribute("data-dialog")&&i.id!==e||r.unshift(Ur(s,e))}),()=>{for(const s of r)s()}}var bu="div",gu=["a","button","details","dialog","div","form","h1","h2","h3","h4","h5","h6","header","img","input","label","li","nav","ol","p","section","select","span","summary","textarea","ul","svg"];te(function(t){return t});var Wt=Z(function(t){return ee(bu,t)});Object.assign(Wt,gu.reduce((e,t)=>(e[t]=Z(function(n){return ee(t,n)}),e),{}));function hu({store:e,backdrop:t,alwaysVisible:r,hidden:n}){const o=c.useRef(null),s=Cs({disclosure:e}),i=le(e,"contentElement");c.useEffect(()=>{const f=o.current,m=i;f&&m&&(f.style.zIndex=getComputedStyle(m).zIndex)},[i]),J(()=>{const f=i==null?void 0:i.id;if(!f)return;const m=o.current;if(m)return Ur(m,f)},[i]);const u=mn({ref:o,store:s,role:"presentation","data-backdrop":(i==null?void 0:i.id)||"",alwaysVisible:r,hidden:n??void 0,style:{position:"fixed",top:0,right:0,bottom:0,left:0}});if(!t)return null;if(c.isValidElement(t))return T.jsx(Wt,N(O({},u),{render:t}));const a=typeof t!="boolean"?t:"div";return T.jsx(Wt,N(O({},u),{render:T.jsx(a,{})}))}function xu(e,...t){if(!e)return!1;const r=e.getAttribute("data-focus-trap");return r==null?!1:t.length?r===""?!1:t.some(n=>r===n):!0}function Su(e){return pn(e,"aria-hidden","true")}function qr(){return"inert"in HTMLElement.prototype}function Yr(e,t){if(!("style"in e))return ut;if(qr())return Ze(e,"inert",!0);const n=Dt(e,!0).map(o=>{if(t!=null&&t.some(i=>i&&be(i,o)))return ut;const s=pt(o,"focus",()=>(o.focus=ut,()=>{delete o.focus}));return _e(pn(o,"tabindex","-1"),s)});return _e(...n,Su(e),Ht(e,{pointerEvents:"none",userSelect:"none",cursor:"default"}))}function yu(e,t){const r=[],n=t.map(s=>s==null?void 0:s.id);return bn(e,t,s=>{Wr(s,...n)||xu(s,...n)||r.unshift(Yr(s,t))},s=>{s.hasAttribute("role")&&(t.some(i=>i&&be(i,s))||r.unshift(pn(s,"role","none")))}),()=>{for(const s of r)s()}}function Eu({attribute:e,contentId:t,contentElement:r,enabled:n}){const[o,s]=cr(),i=c.useCallback(()=>{if(!n||!r)return!1;const{body:u}=oe(r),a=u.getAttribute(e);return!a||a===t},[o,n,r,e,t]);return c.useEffect(()=>{if(!n||!t||!r)return;const{body:u}=oe(r);if(i())return u.setAttribute(e,t),()=>u.removeAttribute(e);const a=new MutationObserver(()=>xt.flushSync(s));return a.observe(u,{attributeFilter:[e]}),()=>a.disconnect()},[o,n,t,r,i,e]),i}function Cu(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function wu(e,t,r){const n=Eu({attribute:"data-dialog-prevent-body-scroll",contentElement:e,contentId:t,enabled:r});c.useEffect(()=>{if(!n()||!e)return;const o=oe(e),s=or(e),{documentElement:i,body:u}=o,a=i.style.getPropertyValue("--scrollbar-width"),f=a?Number.parseInt(a):s.innerWidth-i.clientWidth,m=()=>lu(i,"--scrollbar-width",`${f}px`),p=Cu(i),l=()=>Ht(u,{overflow:"hidden",[p]:`${f}px`}),y=()=>{var x,_;const{scrollX:P,scrollY:A,visualViewport:D}=s,v=(x=D==null?void 0:D.offsetLeft)!=null?x:0,b=(_=D==null?void 0:D.offsetTop)!=null?_:0,w=Ht(u,{position:"fixed",overflow:"hidden",top:`${-(A-Math.floor(b))}px`,left:`${-(P-Math.floor(v))}px`,right:"0",[p]:`${f}px`});return()=>{w(),s.scrollTo({left:P,top:A,behavior:"instant"})}},g=Gt()&&!Lo();return _e(m(),g?y():l())},[n,e])}var Kn=c.createContext({});function Pu(e){const t=c.useContext(Kn),[r,n]=c.useState([]),o=c.useCallback(u=>{var a;return n(f=>[...f,u]),_e((a=t.add)==null?void 0:a.call(t,u),()=>{n(f=>f.filter(m=>m!==u))})},[t]);J(()=>Pe(e,["open","contentElement"],u=>{var a;if(u.open&&u.contentElement)return(a=t.add)==null?void 0:a.call(t,e)}),[e,t]);const s=c.useMemo(()=>({store:e,add:o}),[e,o]);return{wrapElement:c.useCallback(u=>T.jsx(Kn.Provider,{value:s,children:u}),[s]),nestedDialogs:r}}function Iu(e){const t=c.useRef();return c.useEffect(()=>{if(!e){t.current=null;return}return Re("mousedown",n=>{t.current=n.target},!0)},[e]),t}function Ou(e){return e.tagName==="HTML"?!0:be(oe(e).body,e)}function Au(e,t){if(!e)return!1;if(be(e,t))return!0;const r=t.getAttribute("aria-activedescendant");if(r){const n=oe(e).getElementById(r);if(n)return be(e,n)}return!1}function Du(e,t){if(!("clientY"in e))return!1;const r=t.getBoundingClientRect();return r.width===0||r.height===0?!1:r.top<=e.clientY&&e.clientY<=r.top+r.height&&r.left<=e.clientX&&e.clientX<=r.left+r.width}function Mt({store:e,type:t,listener:r,capture:n,domReady:o}){const s=W(r),i=le(e,"open"),u=c.useRef(!1);J(()=>{if(!i||!o)return;const{contentElement:a}=e.getState();if(!a)return;const f=()=>{u.current=!0};return a.addEventListener("focusin",f,!0),()=>a.removeEventListener("focusin",f,!0)},[e,i,o]),c.useEffect(()=>i?Re(t,f=>{const{contentElement:m,disclosureElement:p}=e.getState(),l=f.target;!m||!l||!Ou(l)||be(m,l)||Au(p,l)||l.hasAttribute("data-focus-trap")||Du(f,m)||u.current&&!gn(l,m.id)||ri(l)||s(f)},n):void 0,[i,n])}function Vt(e,t){return typeof e=="function"?e(t):!!e}function Tu(e,t,r){const n=le(e,"open"),o=Iu(n),s={store:e,domReady:r,capture:!0};Mt(N(O({},s),{type:"click",listener:i=>{const{contentElement:u}=e.getState(),a=o.current;a&&sr(a)&&gn(a,u==null?void 0:u.id)&&Vt(t,i)&&e.hide()}})),Mt(N(O({},s),{type:"focusin",listener:i=>{const{contentElement:u}=e.getState();u&&i.target!==oe(u)&&Vt(t,i)&&e.hide()}})),Mt(N(O({},s),{type:"contextmenu",listener:i=>{Vt(t,i)&&e.hide()}}))}function _u(e,t){const n=oe(e).createElement("button");return n.type="button",n.tabIndex=-1,n.textContent="Dismiss popup",Object.assign(n.style,{border:"0px",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"}),n.addEventListener("click",t),e.prepend(n),()=>{n.removeEventListener("click",t),n.remove()}}var Fu="div",Gr=te(function(t){var r=t,{autoFocusOnShow:n=!0}=r,o=Q(r,["autoFocusOnShow"]);return o=Ie(o,s=>T.jsx(Tr.Provider,{value:n,children:s}),[n]),o});Z(function(t){const r=Gr(t);return ee(Fu,r)});var Bn=c.createContext(0);function Ru({level:e,children:t}){const r=c.useContext(Bn),n=Math.max(Math.min(e||r+1,6),1);return T.jsx(Bn.Provider,{value:n,children:t})}var ku="span",Xr=te(function(t){return t=N(O({},t),{style:O({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},t.style)}),t});Z(function(t){const r=Xr(t);return ee(ku,r)});var Mu="span",Vu=te(function(t){return t=N(O({"data-focus-trap":"",tabIndex:0,"aria-hidden":!0},t),{style:O({position:"fixed",top:0,left:0},t.style)}),t=Xr(t),t}),ht=Z(function(t){const r=Vu(t);return ee(Mu,r)}),Hn=c.createContext(null),Lu="div";function Nu(e){return oe(e).body}function ju(e,t){return t?typeof t=="function"?t(e):t:oe(e).createElement("div")}function $u(e="id"){return`${e?`${e}-`:""}${Math.random().toString(36).substr(2,6)}`}function Ue(e){queueMicrotask(()=>{e==null||e.focus()})}var Jr=te(function(t){var r=t,{preserveTabOrder:n,preserveTabOrderAnchor:o,portalElement:s,portalRef:i,portal:u=!0}=r,a=Q(r,["preserveTabOrder","preserveTabOrderAnchor","portalElement","portalRef","portal"]);const f=c.useRef(null),m=xe(f,a.ref),p=c.useContext(Hn),[l,y]=c.useState(null),[g,x]=c.useState(null),_=c.useRef(null),P=c.useRef(null),A=c.useRef(null),D=c.useRef(null);return J(()=>{const v=f.current;if(!v||!u){y(null);return}const b=ju(v,s);if(!b){y(null);return}const w=b.isConnected;if(w||(p||Nu(v)).appendChild(b),b.id||(b.id=v.id?`portal/${v.id}`:$u()),y(b),Lt(i,b),!w)return()=>{b.remove(),Lt(i,null)}},[u,s,p,i]),J(()=>{if(!u||!n||!o)return;const b=oe(o).createElement("span");return b.style.position="fixed",o.insertAdjacentElement("afterend",b),x(b),()=>{b.remove(),x(null)}},[u,n,o]),c.useEffect(()=>{if(!l||!n)return;let v=0;const b=w=>{if(!Xe(w))return;const I=w.type==="focusin";if(cancelAnimationFrame(v),I)return Qs(l);v=requestAnimationFrame(()=>{Zs(l,!0)})};return l.addEventListener("focusin",b,!0),l.addEventListener("focusout",b,!0),()=>{cancelAnimationFrame(v),l.removeEventListener("focusin",b,!0),l.removeEventListener("focusout",b,!0)}},[l,n]),a=Ie(a,v=>{if(v=T.jsx(Hn.Provider,{value:l||p,children:v}),!u)return v;if(!l)return T.jsx("span",{ref:m,id:a.id,style:{position:"fixed"},hidden:!0});v=T.jsxs(T.Fragment,{children:[n&&l&&T.jsx(ht,{ref:P,"data-focus-trap":a.id,className:"__focus-trap-inner-before",onFocus:w=>{Xe(w,l)?Ue(Ft()):Ue(_.current)}}),v,n&&l&&T.jsx(ht,{ref:A,"data-focus-trap":a.id,className:"__focus-trap-inner-after",onFocus:w=>{Xe(w,l)?Ue(On()):Ue(D.current)}})]}),l&&(v=xt.createPortal(v,l));let b=T.jsxs(T.Fragment,{children:[n&&l&&T.jsx(ht,{ref:_,"data-focus-trap":a.id,className:"__focus-trap-outer-before",onFocus:w=>{!(w.relatedTarget===D.current)&&Xe(w,l)?Ue(P.current):Ue(On())}}),n&&T.jsx("span",{"aria-owns":l==null?void 0:l.id,style:{position:"fixed"}}),n&&l&&T.jsx(ht,{ref:D,"data-focus-trap":a.id,className:"__focus-trap-outer-after",onFocus:w=>{if(Xe(w,l))Ue(A.current);else{const I=Ft();if(I===P.current){requestAnimationFrame(()=>{var R;return(R=Ft())==null?void 0:R.focus()});return}Ue(I)}}})]});return g&&n&&(b=xt.createPortal(b,g)),T.jsxs(T.Fragment,{children:[b,v]})},[l,p,u,a.id,n,g]),a=N(O({},a),{ref:m}),a});Z(function(t){const r=Jr(t);return ee(Lu,r)});var Ku="div",zn=wt();function Bu(e){const t=Be();return!t||e&&be(e,t)?!1:!!ke(t)}function Wn(e,t=!1){if(!e)return null;const r="current"in e?e.current:e;return r?t?ke(r)?r:null:r:null}var Zr=te(function(t){var r=t,{store:n,open:o,onClose:s,focusable:i=!0,modal:u=!0,portal:a=!!u,backdrop:f=!!u,hideOnEscape:m=!0,hideOnInteractOutside:p=!0,getPersistentElements:l,preventBodyScroll:y=!!u,autoFocusOnShow:g=!0,autoFocusOnHide:x=!0,initialFocus:_,finalFocus:P,unmountOnHide:A,unstable_treeSnapshotKey:D}=r,v=Q(r,["store","open","onClose","focusable","modal","portal","backdrop","hideOnEscape","hideOnInteractOutside","getPersistentElements","preventBodyScroll","autoFocusOnShow","autoFocusOnHide","initialFocus","finalFocus","unmountOnHide","unstable_treeSnapshotKey"]);const b=It(),w=c.useRef(null),I=ws({store:n||b,open:o,setOpen(L){if(L)return;const q=w.current;if(!q)return;const de=new Event("close",{bubbles:!1,cancelable:!0});s&&q.addEventListener("close",s,{once:!0}),q.dispatchEvent(de),de.defaultPrevented&&I.setOpen(!0)}}),{portalRef:R,domReady:S}=lr(a,v.portalRef),V=v.preserveTabOrder,B=le(I,L=>V&&!u&&L.mounted),H=it(v.id),d=le(I,"open"),C=le(I,"mounted"),M=le(I,"contentElement"),E=vn(C,v.hidden,v.alwaysVisible);wu(M,H,y&&!E),Tu(I,p,S);const{wrapElement:k,nestedDialogs:$}=Pu(I);v=Ie(v,k,[k]),J(()=>{if(!d)return;const L=w.current,q=Be(L,!0);q&&q.tagName!=="BODY"&&(L&&be(L,q)||I.setDisclosureElement(q))},[I,d]),zn&&c.useEffect(()=>{if(!C)return;const{disclosureElement:L}=I.getState();if(!L||!$e(L))return;const q=()=>{let de=!1;const Y=()=>{de=!0},ye={capture:!0,once:!0};L.addEventListener("focusin",Y,ye),rt(L,"mouseup",()=>{L.removeEventListener("focusin",Y,!0),!de&&Fr(L)})};return L.addEventListener("mousedown",q),()=>{L.removeEventListener("mousedown",q)}},[I,C]),c.useEffect(()=>{if(!C||!S)return;const L=w.current;if(!L)return;const q=or(L),de=q.visualViewport||q,Y=()=>{var ye,Ae;const F=(Ae=(ye=q.visualViewport)==null?void 0:ye.height)!=null?Ae:q.innerHeight;L.style.setProperty("--dialog-viewport-height",`${F}px`)};return Y(),de.addEventListener("resize",Y),()=>{de.removeEventListener("resize",Y)}},[C,S]),c.useEffect(()=>{if(!u||!C||!S)return;const L=w.current;if(!(!L||L.querySelector("[data-dialog-dismiss]")))return _u(L,I.hide)},[I,u,C,S]),J(()=>{if(!qr()||d||!C||!S)return;const L=w.current;if(L)return Yr(L)},[d,C,S]);const h=d&&S;J(()=>{if(!H||!h)return;const L=w.current;return mu(H,[L])},[H,h,D]);const K=W(l);J(()=>{if(!H||!h)return;const{disclosureElement:L}=I.getState(),q=w.current,de=K()||[],Y=[q,...de,...$.map(ye=>ye.getState().contentElement)];return u?_e($n(H,Y),yu(H,Y)):$n(H,[L,...Y])},[H,I,h,K,$,u,D]);const z=!!g,X=ue(g),[ae,ne]=c.useState(!1);c.useEffect(()=>{if(!d||!z||!S||!(M!=null&&M.isConnected))return;const L=Wn(_,!0)||M.querySelector("[data-autofocus=true],[autofocus]")||qs(M,!0,a&&B)||M,q=ke(L);X(q?L:null)&&(ne(!0),queueMicrotask(()=>{L.focus(),zn&&L.scrollIntoView({block:"nearest",inline:"nearest"})}))},[d,z,S,M,_,a,B,X]);const se=!!x,Ce=ue(x),[ve,fe]=c.useState(!1);c.useEffect(()=>{if(d)return fe(!0),()=>fe(!1)},[d]);const ge=c.useCallback((L,q=!0)=>{const{disclosureElement:de}=I.getState();if(Bu(L))return;let Y=Wn(P)||de;if(Y!=null&&Y.id){const Ae=oe(Y),F=`[aria-activedescendant="${Y.id}"]`,U=Ae.querySelector(F);U&&(Y=U)}if(Y&&!ke(Y)){const Ae=Y.closest("[data-dialog]");if(Ae!=null&&Ae.id){const F=oe(Ae),U=`[aria-controls~="${Ae.id}"]`,ie=F.querySelector(U);ie&&(Y=ie)}}const ye=Y&&ke(Y);if(!ye&&q){requestAnimationFrame(()=>ge(L,!1));return}Ce(ye?Y:null)&&ye&&(Y==null||Y.focus())},[I,P,Ce]),j=c.useRef(!1);J(()=>{if(d||!ve||!se)return;const L=w.current;j.current=!0,ge(L)},[d,ve,S,se,ge]),c.useEffect(()=>{if(!ve||!se)return;const L=w.current;return()=>{if(j.current){j.current=!1;return}ge(L)}},[ve,se,ge]);const Se=ue(m);c.useEffect(()=>!S||!C?void 0:Re("keydown",q=>{if(q.key!=="Escape"||q.defaultPrevented)return;const de=w.current;if(!de||gn(de))return;const Y=q.target;if(!Y)return;const{disclosureElement:ye}=I.getState();!!(Y.tagName==="BODY"||be(de,Y)||!ye||be(ye,Y))&&Se(q)&&I.hide()},!0),[I,S,C,Se]),v=Ie(v,L=>T.jsx(Ru,{level:u?1:void 0,children:L}),[u]);const me=v.hidden,Fe=v.alwaysVisible;v=Ie(v,L=>f?T.jsxs(T.Fragment,{children:[T.jsx(hu,{store:I,backdrop:f,hidden:me,alwaysVisible:Fe}),L]}):L,[I,f,me,Fe]);const[Me,ze]=c.useState(),[Ve,We]=c.useState();return v=Ie(v,L=>T.jsx(un,{value:I,children:T.jsx(ks.Provider,{value:ze,children:T.jsx(Ms.Provider,{value:We,children:L})})}),[I]),v=N(O({id:H,"data-dialog":"",role:"dialog",tabIndex:i?-1:void 0,"aria-labelledby":Me,"aria-describedby":Ve},v),{ref:xe(w,v.ref)}),v=Gr(N(O({},v),{autoFocusOnShow:ae})),v=mn(O({store:I},v)),v=Tt(N(O({},v),{focusable:i})),v=Jr(N(O({portal:a},v),{portalRef:R,preserveTabOrder:B})),v});function hn(e,t=It){return Z(function(n){const o=t(),s=n.store||o;return le(s,u=>!n.unmountOnHide||(u==null?void 0:u.mounted)||!!n.open)?T.jsx(e,O({},n)):null})}hn(Z(function(t){const r=Zr(t);return ee(Ku,r)}),It);var Hu="div";function Un(e=0,t=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(e,t,r,n);const o={x:e,y:t,width:r,height:n,top:t,right:e+r,bottom:t+n,left:e};return N(O({},o),{toJSON:()=>o})}function zu(e){if(!e)return Un();const{x:t,y:r,width:n,height:o}=e;return Un(t,r,n,o)}function Wu(e,t){return{contextElement:e||void 0,getBoundingClientRect:()=>{const n=e,o=t==null?void 0:t(n);return o||!n?zu(o):n.getBoundingClientRect()}}}function Uu(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}function qn(e){const t=window.devicePixelRatio||1;return Math.round(e*t)/t}function qu(e,t){return so(({placement:r})=>{var n;const o=((e==null?void 0:e.clientHeight)||0)/2,s=typeof t.gutter=="number"?t.gutter+o:(n=t.gutter)!=null?n:o;return{crossAxis:!!r.split("-")[1]?void 0:t.shift,mainAxis:s,alignmentAxis:t.shift}})}function Yu(e){if(e.flip===!1)return;const t=typeof e.flip=="string"?e.flip.split(" "):void 0;return Oe(!t||t.every(Uu),"`flip` expects a spaced-delimited list of placements"),io({padding:e.overflowPadding,fallbackPlacements:t})}function Gu(e){if(!(!e.slide&&!e.overlap))return uo({mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:ao()})}function Xu(e){return co({padding:e.overflowPadding,apply({elements:t,availableWidth:r,availableHeight:n,rects:o}){const s=t.floating,i=Math.round(o.reference.width);r=Math.floor(r),n=Math.floor(n),s.style.setProperty("--popover-anchor-width",`${i}px`),s.style.setProperty("--popover-available-width",`${r}px`),s.style.setProperty("--popover-available-height",`${n}px`),e.sameWidth&&(s.style.width=`${i}px`),e.fitViewport&&(s.style.maxWidth=`${r}px`,s.style.maxHeight=`${n}px`)}})}function Ju(e,t){if(e)return lo({element:e,padding:t.arrowPadding})}var Qr=te(function(t){var r=t,{store:n,modal:o=!1,portal:s=!!o,preserveTabOrder:i=!0,autoFocusOnShow:u=!0,wrapperProps:a,fixed:f=!1,flip:m=!0,shift:p=0,slide:l=!0,overlap:y=!1,sameWidth:g=!1,fitViewport:x=!1,gutter:_,arrowPadding:P=4,overflowPadding:A=8,getAnchorRect:D,updatePosition:v}=r,b=Q(r,["store","modal","portal","preserveTabOrder","autoFocusOnShow","wrapperProps","fixed","flip","shift","slide","overlap","sameWidth","fitViewport","gutter","arrowPadding","overflowPadding","getAnchorRect","updatePosition"]);const w=an();n=n||w,Oe(n,"Popover must receive a `store` prop or be wrapped in a PopoverProvider component.");const I=n.useState("arrowElement"),R=n.useState("anchorElement"),S=n.useState("disclosureElement"),V=n.useState("popoverElement"),B=n.useState("contentElement"),H=n.useState("placement"),d=n.useState("mounted"),C=n.useState("rendered"),M=c.useRef(null),[E,k]=c.useState(!1),{portalRef:$,domReady:h}=lr(s,b.portalRef),K=W(D),z=W(v),X=!!v;J(()=>{if(!(V!=null&&V.isConnected))return;V.style.setProperty("--popover-overflow-padding",`${A}px`);const ne=Wu(R,K),se=async()=>{if(!d)return;I||(M.current=M.current||document.createElement("div"));const fe=I||M.current,ge=[qu(fe,{gutter:_,shift:p}),Yu({flip:m,overflowPadding:A}),Gu({slide:l,shift:p,overlap:y,overflowPadding:A}),Ju(fe,{arrowPadding:P}),Xu({sameWidth:g,fitViewport:x,overflowPadding:A})],j=await oo(ne,V,{placement:H,strategy:f?"fixed":"absolute",middleware:ge});n==null||n.setState("currentPlacement",j.placement),k(!0);const Se=qn(j.x),me=qn(j.y);if(Object.assign(V.style,{top:"0",left:"0",transform:`translate3d(${Se}px,${me}px,0)`}),fe&&j.middlewareData.arrow){const{x:Fe,y:Me}=j.middlewareData.arrow,ze=j.placement.split("-")[0],Ve=fe.clientWidth/2,We=fe.clientHeight/2,L=Fe!=null?Fe+Ve:-Ve,q=Me!=null?Me+We:-We;V.style.setProperty("--popover-transform-origin",{top:`${L}px calc(100% + ${We}px)`,bottom:`${L}px ${-We}px`,left:`calc(100% + ${Ve}px) ${q}px`,right:`${-Ve}px ${q}px`}[ze]),Object.assign(fe.style,{left:Fe!=null?`${Fe}px`:"",top:Me!=null?`${Me}px`:"",[ze]:"100%"})}},ve=ro(ne,V,async()=>{X?(await z({updatePosition:se}),k(!0)):await se()},{elementResize:typeof ResizeObserver=="function"});return()=>{k(!1),ve()}},[n,C,V,I,R,V,H,d,h,f,m,p,l,y,g,x,_,P,A,K,X,z]),J(()=>{if(!d||!h||!(V!=null&&V.isConnected)||!(B!=null&&B.isConnected))return;const ne=()=>{V.style.zIndex=getComputedStyle(B).zIndex};ne();let se=requestAnimationFrame(()=>{se=requestAnimationFrame(ne)});return()=>cancelAnimationFrame(se)},[d,h,V,B]);const ae=f?"fixed":"absolute";return b=Ie(b,ne=>T.jsx("div",N(O({},a),{style:O({position:ae,top:0,left:0,width:"max-content"},a==null?void 0:a.style),ref:n==null?void 0:n.setPopoverElement,children:ne})),[n,ae,a]),b=Ie(b,ne=>T.jsx(Pr,{value:n,children:ne}),[n]),b=N(O({"data-placing":!E||void 0},b),{style:O({position:"relative"},b.style)}),b=Zr(N(O({store:n,modal:o,portal:s,preserveTabOrder:i,preserveTabOrderAnchor:S||R,autoFocusOnShow:E&&u},b),{portalRef:$})),b});hn(Z(function(t){const r=Qr(t);return ee(Hu,r)}),an);var Zu="div";function Qu(e,...t){if(!e)return!1;if("id"in e){const r=t.filter(Boolean).map(n=>`[aria-controls~="${n}"]`).join(", ");return r?e.matches(r):!1}return!1}var ea=te(function(t){var r=t,{store:n,modal:o,tabIndex:s,alwaysVisible:i,autoFocusOnHide:u=!0,hideOnInteractOutside:a=!0}=r,f=Q(r,["store","modal","tabIndex","alwaysVisible","autoFocusOnHide","hideOnInteractOutside"]);const m=Ot();n=n||m,Oe(n,"ComboboxPopover must receive a `store` prop or be wrapped in a ComboboxProvider component.");const p=n.useState("baseElement"),l=c.useRef(!1),y=le(n.tag,g=>g==null?void 0:g.renderedItems.length);return f=zr(O({store:n,alwaysVisible:i},f)),f=Qr(N(O({store:n,modal:o,alwaysVisible:i,backdrop:!1,autoFocusOnShow:!1,finalFocus:p,preserveTabOrderAnchor:null,unstable_treeSnapshotKey:y},f),{getPersistentElements(){var g;const x=((g=f.getPersistentElements)==null?void 0:g.call(f))||[];if(!o||!n)return x;const{contentElement:_,baseElement:P}=n.getState();if(!P)return x;const A=oe(P),D=[];if(_!=null&&_.id&&D.push(`[aria-controls~="${_.id}"]`),P!=null&&P.id&&D.push(`[aria-controls~="${P.id}"]`),!D.length)return[...x,P];const v=D.join(","),b=A.querySelectorAll(v);return[...x,...b]},autoFocusOnHide(g){return rr(u,g)?!1:l.current?(l.current=!1,!1):!0},hideOnInteractOutside(g){var x,_;const P=n==null?void 0:n.getState(),A=(x=P==null?void 0:P.contentElement)==null?void 0:x.id,D=(_=P==null?void 0:P.baseElement)==null?void 0:_.id;if(Qu(g.target,A,D))return!1;const v=typeof a=="function"?a(g):a;return v&&(l.current=g.type==="click"),v}})),f}),ta=hn(Z(function(t){const r=ea(t);return ee(Zu,r)}),Ot),na="hr",ra=te(function(t){var r=t,{orientation:n="horizontal"}=r,o=Q(r,["orientation"]);return o=O({role:"separator","aria-orientation":n},o),o}),oa=Z(function(t){const r=ra(t);return ee(na,r)});function sa(e){return c.forwardRef(e)}var Yn=8,Gn=28,ia=({value:e,onChange:t,searchValue:r,onSearchValueChange:n,options:o,className:s,placeholder:i,fetchNextPage:u,isFetchingNextPage:a,onCreateOption:f,noResultsPlaceholder:m,...p},l)=>{var ge;const[y,g]=c.useState(!1),[x,_]=c.useTransition(),{t:P}=fo(),A=c.useRef(null),D=c.useRef(null);c.useImperativeHandle(l,()=>A.current);const v=e!==void 0,b=r!==void 0,w=Array.isArray(e),I=w?[]:"",[R,S]=c.useState(r||""),V=c.useDeferredValue(R),[B,H]=c.useState(I),d=b?r:R,C=v?e:B,M=j=>{!o.filter(me=>!me.disabled).find(me=>w?j==null?void 0:j.includes(me.value):me.value===j)&&f&&j&&f(j),v||H(j||I),t&&t(j),S("")},E=j=>{S(j),n&&n(j)},k=c.useMemo(()=>b?[]:vo(o,V,{keys:["label"]}),[o,V,b]),$=c.useRef(new IntersectionObserver(j=>{j[0].isIntersecting&&(u==null||u())},{threshold:1})),h=c.useCallback(j=>{a||($.current&&$.current.disconnect(),j&&$.current.observe(j))},[a]),K=j=>{j||S(""),g(j)},X=(C==null?void 0:C.length)>0&&w,ae=X&&!d&&!y,ne=!w&&!y,se=(ge=o.find(j=>j.value===C))==null?void 0:ge.label,Ce=ae||y,ve=c.useMemo(()=>{if(!Array.isArray(C))return Gn+Yn;const Se=C.length.toString().length;return Gn+Se*Yn},[C]),fe=c.useMemo(()=>b?o:k,[k,o,b]);return T.jsxs(Ci,{open:y,setOpen:K,selectedValue:C,setSelectedValue:j=>M(j),value:R,setValue:j=>{_(()=>E(j))},children:[T.jsxs("div",{className:tt("relative flex cursor-pointer items-center gap-x-2 overflow-hidden","h-8 w-full rounded-md","bg-ui-bg-field transition-fg shadow-borders-base","has-[input:focus]:shadow-borders-interactive-with-active","has-[:invalid]:shadow-borders-error has-[[aria-invalid=true]]:shadow-borders-error","has-[:disabled]:bg-ui-bg-disabled has-[:disabled]:text-ui-fg-disabled has-[:disabled]:cursor-not-allowed",s),style:{"--tag-width":`${ve}px`},children:[X&&T.jsxs("button",{type:"button",onClick:j=>{j.preventDefault(),M(void 0)},className:"bg-ui-bg-base hover:bg-ui-bg-base-hover txt-compact-small-plus text-ui-fg-subtle focus-within:border-ui-fg-interactive transition-fg absolute left-0.5 top-0.5 z-[1] flex h-[28px] items-center rounded-[4px] border py-[3px] pl-1.5 pr-1 outline-none",children:[T.jsx("span",{className:"tabular-nums",children:C.length}),T.jsx(po,{className:"text-ui-fg-muted"})]}),T.jsxs("div",{className:"relative flex size-full items-center",children:[ae&&T.jsx("div",{className:tt("pointer-events-none absolute inset-y-0 flex size-full items-center",{"left-[calc(var(--tag-width)+8px)]":X,"left-2":!X}),children:T.jsx(bt,{size:"small",leading:"compact",children:P("general.selected")})}),ne&&T.jsx("div",{className:tt("pointer-events-none absolute inset-y-0 flex size-full items-center overflow-hidden",{"left-[calc(var(--tag-width)+8px)]":X,"left-2":!X}),children:T.jsx(bt,{size:"small",leading:"compact",className:"truncate",children:se})}),T.jsx(Ei,{autoSelect:!0,ref:A,onFocus:()=>g(!0),className:tt("txt-compact-small text-ui-fg-base placeholder:text-ui-fg-subtle transition-fg size-full cursor-pointer bg-transparent pl-2 pr-8 outline-none focus:cursor-text","hover:bg-ui-bg-field-hover",{"opacity-0":ne,"pl-2":!X,"pl-[calc(var(--tag-width)+8px)]":X}),placeholder:Ce?void 0:i,...p})]}),T.jsx(Fi,{render:j=>T.jsx("button",{...j,type:"button",className:"text-ui-fg-muted transition-fg hover:bg-ui-bg-field-hover absolute right-0 flex size-8 items-center justify-center rounded-r outline-none",children:T.jsx(bo,{})})})]}),T.jsxs(ta,{gutter:4,sameWidth:!0,ref:D,role:"listbox",className:tt("shadow-elevation-flyout bg-ui-bg-base z-50 rounded-[8px] p-1","max-h-[200px] overflow-y-auto","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"),style:{pointerEvents:y?"auto":"none"},"aria-busy":x,children:[fe.map(({value:j,label:Se,disabled:me})=>T.jsxs(Ln,{value:j,focusOnHover:!0,setValueOnClick:!1,disabled:me,className:tt("transition-fg bg-ui-bg-base data-[active-item=true]:bg-ui-bg-base-hover group flex cursor-pointer items-center gap-x-2 rounded-[4px] px-2 py-1",{"text-ui-fg-disabled":me,"bg-ui-bg-component":me}),children:[T.jsx(ji,{className:"flex !size-5 items-center justify-center",children:T.jsx(mo,{})}),T.jsx(Ui,{className:"txt-compact-small",children:Se})]},j)),!!u&&T.jsx("div",{ref:h,className:"w-px"}),a&&T.jsx("div",{className:"transition-fg bg-ui-bg-base flex items-center rounded-[4px] px-2 py-1.5",children:T.jsx("div",{className:"bg-ui-bg-component size-full h-5 w-full animate-pulse rounded-[4px]"})}),!fe.length&&(m&&!(d!=null&&d.length)?m:T.jsx("div",{className:"flex items-center gap-x-2 rounded-[4px] px-2 py-1.5",children:T.jsx(bt,{size:"small",leading:"compact",className:"text-ui-fg-subtle",children:P("general.noResultsTitle")})})),!fe.length&&f&&T.jsxs(c.Fragment,{children:[T.jsx(oa,{className:"bg-ui-border-base -mx-1"}),T.jsxs(Ln,{value:R,focusOnHover:!0,setValueOnClick:!1,className:"transition-fg bg-ui-bg-base data-[active-item=true]:bg-ui-bg-base-hover group mt-1 flex cursor-pointer items-center gap-x-2 rounded-[4px] px-2 py-1.5",children:[T.jsx(go,{className:"text-ui-fg-subtle"}),T.jsxs(bt,{size:"small",leading:"compact",children:[P("actions.create"),' "',d,'"']})]})]})]})]})},fa=sa(ia);export{fa as C};
